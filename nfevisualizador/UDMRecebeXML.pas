unit UDMRecebeXML;

interface

uses
  SysUtils, Classes, FMTBcd, DB, DBClient, Provider, SqlExpr, xmldom, Xmlxform, Messages, dialogs, LogTypes, Variants;

type
  TDMRecebeXML = class(TDataModule)
    sdsCFOP: TSQLDataSet;
    dspCFOP: TDataSetProvider;
    cdsCFOP: TClientDataSet;
    dsCFOP: TDataSource;
    cdsCFOPID: TIntegerField;
    cdsCFOPCODCFOP: TStringField;
    cdsCFOPNOME: TStringField;
    cdsCFOPGERAR_IPI: TStringField;
    cdsCFOPGERAR_ICMS: TStringField;
    cdsCFOPGERAR_DUPLICATA: TStringField;
    cdsCFOPSOMAR_VLRTOTALPRODUTO: TStringField;
    cdsCFOPNOME_INTERNO: TStringField;
    cdsCFOPID_CSTICMS: TIntegerField;
    cdsCFOPID_CSTIPI: TIntegerField;
    cdsCFOPCOPIARNOTATRIANGULAR: TStringField;
    cdsCFOPID_PIS: TIntegerField;
    cdsCFOPID_COFINS: TIntegerField;
    cdsCFOPTIPO_PIS: TStringField;
    cdsCFOPTIPO_COFINS: TStringField;
    cdsCFOPGERAR_ICMS_SIMPLES: TStringField;
    cdsCFOPTIPO_EMPRESA: TStringField;
    cdsCFOPSUBSTITUICAO_TRIB: TStringField;
    cdsCFOPMVA: TStringField;
    cdsCFOPPERC_COFINS: TFloatField;
    cdsCFOPPERC_PIS: TFloatField;
    cdsCFOPLEI: TMemoField;
    cdsCFOPBENEFICIAMENTO: TStringField;
    XMLTransformProvider1: TXMLTransformProvider;
    cdsCabecalho: TClientDataSet;
    cdsCabecalhoversao: TStringField;
    cdsCabecalhoinfNFe_Id: TStringField;
    cdsCabecalhocUF: TIntegerField;
    cdsCabecalhocNF: TIntegerField;
    cdsCabecalhonatOp: TStringField;
    cdsCabecalhoindPag: TIntegerField;
    cdsCabecalhomod: TStringField;
    cdsCabecalhoserie: TIntegerField;
    cdsCabecalhonNF: TIntegerField;
    cdsCabecalhodSaiEnt: TDateField;
    cdsCabecalhohSaiEnt: TStringField;
    cdsCabecalhotpNF: TIntegerField;
    cdsCabecalhoIEST: TStringField;
    cdsCabecalhocMunFG1: TIntegerField;
    cdsCabecalhotpImp: TIntegerField;
    cdsCabecalhotpEmis: TIntegerField;
    cdsCabecalhocDV: TIntegerField;
    cdsCabecalhotpAmb: TStringField;
    cdsCabecalhofinNFe: TIntegerField;
    cdsCabecalhoprocEmi: TIntegerField;
    cdsCabecalhoverProc: TStringField;
    cdsCabecalhodhCont: TDateField;
    cdsCabecalhoxJust: TStringField;
    cdsCabecalhoemit_CNPJ: TStringField;
    cdsCabecalhoemit_CPF: TStringField;
    cdsCabecalhoemit_xNome: TStringField;
    cdsCabecalhoxFant: TStringField;
    cdsCabecalhoenderEmit_xLgr: TStringField;
    cdsCabecalhoenderEmit_nro: TStringField;
    cdsCabecalhoenderEmit_xCpl: TStringField;
    cdsCabecalhoenderEmit_xBairro: TStringField;
    cdsCabecalhoenderEmit_cMun: TIntegerField;
    cdsCabecalhoenderEmit_xMun: TStringField;
    cdsCabecalhoenderEmit_UF: TStringField;
    cdsCabecalhoenderEmit_CEP: TIntegerField;
    cdsCabecalhoenderEmit_cPais: TIntegerField;
    cdsCabecalhoenderEmit_xPais: TStringField;
    cdsCabecalhoenderEmit_fone: TStringField;
    cdsCabecalhoemit_IE: TStringField;
    cdsCabecalhoIM: TStringField;
    cdsCabecalhoCNAE: TStringField;
    cdsCabecalhoCRT: TIntegerField;
    cdsCabecalhoavulsa_CNPJ: TStringField;
    cdsCabecalhoxOrgao: TStringField;
    cdsCabecalhomatr: TStringField;
    cdsCabecalhoxAgente: TStringField;
    cdsCabecalhofone: TStringField;
    cdsCabecalhoavulsa_UF: TStringField;
    cdsCabecalhonDAR: TStringField;
    cdsCabecalhoavulsa_dEmi: TDateField;
    cdsCabecalhovDAR: TFloatField;
    cdsCabecalhorepEmi: TStringField;
    cdsCabecalhodPag: TDateField;
    cdsCabecalhodest_CNPJ: TStringField;
    cdsCabecalhodest_CPF: TStringField;
    cdsCabecalhodest_xNome: TStringField;
    cdsCabecalhoenderDest_xLgr: TStringField;
    cdsCabecalhoenderDest_nro: TStringField;
    cdsCabecalhoenderDest_xCpl: TStringField;
    cdsCabecalhoenderDest_xBairro: TStringField;
    cdsCabecalhoenderDest_cMun: TIntegerField;
    cdsCabecalhoenderDest_xMun: TStringField;
    cdsCabecalhoenderDest_UF: TStringField;
    cdsCabecalhoenderDest_CEP: TIntegerField;
    cdsCabecalhoenderDest_cPais: TIntegerField;
    cdsCabecalhoenderDest_xPais: TStringField;
    cdsCabecalhoenderDest_fone: TStringField;
    cdsCabecalhodest_IE: TStringField;
    cdsCabecalhoISUF: TStringField;
    cdsCabecalhoemail: TStringField;
    cdsCabecalhoretirada_CNPJ: TStringField;
    cdsCabecalhoretirada_CPF: TStringField;
    cdsCabecalhoretirada_xLgr: TStringField;
    cdsCabecalhoretirada_nro: TStringField;
    cdsCabecalhoretirada_xCpl: TStringField;
    cdsCabecalhoretirada_xBairro: TStringField;
    cdsCabecalhoretirada_cMun: TIntegerField;
    cdsCabecalhoretirada_xMun: TStringField;
    cdsCabecalhoretirada_UF: TStringField;
    cdsCabecalhoentrega_CNPJ: TStringField;
    cdsCabecalhoentrega_CPF: TStringField;
    cdsCabecalhoentrega_xLgr: TStringField;
    cdsCabecalhoentrega_nro: TStringField;
    cdsCabecalhoentrega_xCpl: TStringField;
    cdsCabecalhoentrega_xBairro: TStringField;
    cdsCabecalhoentrega_cMun: TIntegerField;
    cdsCabecalhoentrega_xMun: TStringField;
    cdsCabecalhoentrega_UF: TStringField;
    cdsCabecalhoICMSTot_vBC: TFloatField;
    cdsCabecalhovICMS: TFloatField;
    cdsCabecalhovBCST: TFloatField;
    cdsCabecalhovST: TFloatField;
    cdsCabecalhovProd: TFloatField;
    cdsCabecalhovFrete: TFloatField;
    cdsCabecalhovSeg: TFloatField;
    cdsCabecalhoICMSTot_vDesc: TFloatField;
    cdsCabecalhovII: TFloatField;
    cdsCabecalhovIPI: TFloatField;
    cdsCabecalhoICMSTot_vPIS: TFloatField;
    cdsCabecalhoICMSTot_vCOFINS: TFloatField;
    cdsCabecalhovOutro: TFloatField;
    cdsCabecalhovNF: TFloatField;
    cdsCabecalhoISSQNtot_vServ: TFloatField;
    cdsCabecalhoISSQNtot_vBC: TFloatField;
    cdsCabecalhovISS: TFloatField;
    cdsCabecalhoISSQNtot_vPIS: TFloatField;
    cdsCabecalhoISSQNtot_vCOFINS: TFloatField;
    cdsCabecalhovRetPIS: TFloatField;
    cdsCabecalhovRetCOFINS: TFloatField;
    cdsCabecalhovRetCSLL: TFloatField;
    cdsCabecalhovBCIRRF: TFloatField;
    cdsCabecalhovIRRF: TFloatField;
    cdsCabecalhovBCRetPrev: TFloatField;
    cdsCabecalhovRetPrev: TFloatField;
    cdsCabecalhomodFrete: TIntegerField;
    cdsCabecalhoCNPJ: TStringField;
    cdsCabecalhoCPF: TStringField;
    cdsCabecalhoxNome: TStringField;
    cdsCabecalhoIE: TStringField;
    cdsCabecalhoxEnder: TStringField;
    cdsCabecalhotransporta_xMun: TStringField;
    cdsCabecalhotransporta_UF: TStringField;
    cdsCabecalhoretTransp_vServ: TFloatField;
    cdsCabecalhovBCRet: TFloatField;
    cdsCabecalhopICMSRet: TFloatField;
    cdsCabecalhovICMSRet: TFloatField;
    cdsCabecalhoCFOP: TIntegerField;
    cdsCabecalhocMunFG2: TIntegerField;
    cdsCabecalhoveicTransp_placa: TStringField;
    cdsCabecalhoveicTransp_UF: TStringField;
    cdsCabecalhoveicTransp_RNTC: TStringField;
    cdsCabecalhoreboque_placa: TStringField;
    cdsCabecalhoreboque_UF: TStringField;
    cdsCabecalhoreboque_RNTC: TStringField;
    cdsCabecalhovagao: TStringField;
    cdsCabecalhobalsa: TStringField;
    cdsCabecalhonFat: TStringField;
    cdsCabecalhovOrig: TFloatField;
    cdsCabecalhofat_vDesc: TFloatField;
    cdsCabecalhovLiq: TFloatField;
    cdsCabecalhoinfAdFisco: TStringField;
    cdsCabecalhoinfCpl: TStringField;
    cdsCabecalhoobsCont_xCampo: TStringField;
    cdsCabecalhoobsCont_xTexto: TStringField;
    cdsCabecalhoobsFisco_xCampo: TStringField;
    cdsCabecalhoobsFisco_xTexto: TStringField;
    cdsCabecalhoUFEmbarq: TStringField;
    cdsCabecalhoxLocEmbarq: TStringField;
    cdsCabecalhoxNEmp: TStringField;
    cdsCabecalhoxPed: TStringField;
    cdsCabecalhoxCont: TStringField;
    cdsCabecalhoSignature_Id: TStringField;
    cdsCabecalhoSignedInfo_Id: TStringField;
    cdsCabecalhoAlgorithm1: TStringField;
    cdsCabecalhoSignatureMethod_Algorithm: TStringField;
    cdsCabecalhoId: TStringField;
    cdsCabecalhoURI: TStringField;
    cdsCabecalhoType: TStringField;
    cdsCabecalhoAlgorithm2: TStringField;
    cdsCabecalhoXPath: TStringField;
    cdsCabecalhoAlgorithm3: TStringField;
    cdsCabecalhoDigestValue: TStringField;
    cdsCabecalhoSignatureValue_Id: TStringField;
    cdsCabecalhoKeyInfo_Id: TStringField;
    cdsCabecalhoX509Certificate: TStringField;
    cdsCabecalhoNFref: TDataSetField;
    cdsCabecalhodet: TDataSetField;
    cdsCabecalhovol: TDataSetField;
    cdsCabecalhodup: TDataSetField;
    cdsCabecalhoprocRef: TDataSetField;
    cdsCabecalhoprotNFe: TDataSetField;
    dsCabecalho: TDataSource;
    cdsNFeRef: TClientDataSet;
    cdsNFeRefrefNFe: TIntegerField;
    cdsNFeRefrefNF_cUF: TIntegerField;
    cdsNFeRefrefNF_AAMM: TIntegerField;
    cdsNFeRefrefNF_CNPJ: TStringField;
    cdsNFeRefrefNF_mod: TStringField;
    cdsNFeRefrefNF_serie: TIntegerField;
    cdsNFeRefrefNF_nNF: TIntegerField;
    cdsNFeRefrefNFP_cUF: TIntegerField;
    cdsNFeRefrefNFP_AAMM: TIntegerField;
    cdsNFeRefrefNFP_CNPJ: TStringField;
    cdsNFeRefCPF: TStringField;
    cdsNFeRefIE: TStringField;
    cdsNFeRefrefNFP_mod: TStringField;
    cdsNFeRefrefNFP_serie: TIntegerField;
    cdsNFeRefrefNFP_nNF: TIntegerField;
    cdsNFeRefrefCTe: TIntegerField;
    cdsNFeRefrefECF_mod: TStringField;
    cdsNFeRefnECF: TIntegerField;
    cdsNFeRefnCOO: TIntegerField;
    cdsNFeProtocolo: TClientDataSet;
    cdsNFeProtocoloversao: TStringField;
    cdsNFeProtocoloId: TStringField;
    cdsNFeProtocolotpAmb: TStringField;
    cdsNFeProtocoloverAplic: TStringField;
    cdsNFeProtocolochNFe: TStringField;
    cdsNFeProtocolodhRecbto: TStringField;
    cdsNFeProtocolonProt: TStringField;
    cdsNFeProtocolodigVal: TStringField;
    cdsNFeProtocolocStat: TStringField;
    cdsNFeProtocoloxMotivo: TStringField;
    dsNFeProtocolo: TDataSource;
    dsNFeRef: TDataSource;
    dsParcelas: TDataSource;
    cdsParcelas: TClientDataSet;
    cdsParcelasnDup: TStringField;
    cdsParcelasdVenc: TDateField;
    cdsParcelasvDup: TFloatField;
    cdsDetalhe: TClientDataSet;
    cdsDetalhenItem: TIntegerField;
    cdsDetalhecProd: TStringField;
    cdsDetalhecEAN: TStringField;
    cdsDetalhexProd: TStringField;
    cdsDetalheNCM: TStringField;
    cdsDetalheEXTIPI: TStringField;
    cdsDetalheCFOP: TIntegerField;
    cdsDetalheuCom: TStringField;
    cdsDetalheqCom: TFloatField;
    cdsDetalhevUnCom: TFloatField;
    cdsDetalhevProd: TFloatField;
    cdsDetalhecEANTrib: TStringField;
    cdsDetalheuTrib: TStringField;
    cdsDetalheqTrib: TFloatField;
    cdsDetalhevUnTrib: TFloatField;
    cdsDetalhevFrete: TFloatField;
    cdsDetalhevSeg: TFloatField;
    cdsDetalhevDesc: TFloatField;
    cdsDetalhevOutro: TFloatField;
    cdsDetalheindTot: TIntegerField;
    cdsDetalhexPed: TStringField;
    cdsDetalhenItemPed: TIntegerField;
    cdsDetalhetpOp: TIntegerField;
    cdsDetalhechassi: TStringField;
    cdsDetalhecCor: TStringField;
    cdsDetalhexCor: TStringField;
    cdsDetalhepot: TStringField;
    cdsDetalhecilin: TStringField;
    cdsDetalhepesoL: TFloatField;
    cdsDetalhepesoB: TFloatField;
    cdsDetalhenSerie: TStringField;
    cdsDetalhetpComb: TStringField;
    cdsDetalhenMotor: TStringField;
    cdsDetalheCMT: TStringField;
    cdsDetalhedist: TStringField;
    cdsDetalheanoMod: TIntegerField;
    cdsDetalheanoFab: TIntegerField;
    cdsDetalhetpPint: TStringField;
    cdsDetalhetpVeic: TIntegerField;
    cdsDetalheespVeic: TIntegerField;
    cdsDetalheVIN: TStringField;
    cdsDetalhecondVeic: TIntegerField;
    cdsDetalhecMod: TIntegerField;
    cdsDetalhecCorDENATRAN: TIntegerField;
    cdsDetalhelota: TIntegerField;
    cdsDetalhetpRest: TIntegerField;
    cdsDetalhecProdANP: TIntegerField;
    cdsDetalheCODIF: TIntegerField;
    cdsDetalheqTemp: TFloatField;
    cdsDetalheUFCons: TStringField;
    cdsDetalheCIDE_qBCProd: TFloatField;
    cdsDetalheCIDE_vAliqProd: TFloatField;
    cdsDetalhevCIDE: TFloatField;
    cdsDetalheICMS00_orig: TIntegerField;
    cdsDetalheICMS00_CST: TIntegerField;
    cdsDetalheICMS00_modBC: TIntegerField;
    cdsDetalheICMS00_vBC: TFloatField;
    cdsDetalheICMS00_pICMS: TFloatField;
    cdsDetalheICMS00_vICMS: TFloatField;
    cdsDetalheICMS10_orig: TIntegerField;
    cdsDetalheICMS10_CST: TIntegerField;
    cdsDetalheICMS10_modBC: TIntegerField;
    cdsDetalheICMS10_vBC: TFloatField;
    cdsDetalheICMS10_pICMS: TFloatField;
    cdsDetalheICMS10_vICMS: TFloatField;
    cdsDetalheICMS10_modBCST: TIntegerField;
    cdsDetalheICMS10_pMVAST: TFloatField;
    cdsDetalheICMS10_pRedBCST: TFloatField;
    cdsDetalheICMS10_vBCST: TFloatField;
    cdsDetalheICMS10_pICMSST: TFloatField;
    cdsDetalheICMS10_vICMSST: TFloatField;
    cdsDetalheICMS20_orig: TIntegerField;
    cdsDetalheICMS20_CST: TIntegerField;
    cdsDetalheICMS20_modBC: TIntegerField;
    cdsDetalheICMS20_pRedBC: TFloatField;
    cdsDetalheICMS20_vBC: TFloatField;
    cdsDetalheICMS20_pICMS: TFloatField;
    cdsDetalheICMS20_vICMS: TFloatField;
    cdsDetalheICMS30_orig: TIntegerField;
    cdsDetalheICMS30_CST: TIntegerField;
    cdsDetalheICMS30_modBCST: TIntegerField;
    cdsDetalheICMS30_pMVAST: TFloatField;
    cdsDetalheICMS30_pRedBCST: TFloatField;
    cdsDetalheICMS30_vBCST: TFloatField;
    cdsDetalheICMS30_pICMSST: TFloatField;
    cdsDetalheICMS30_vICMSST: TFloatField;
    cdsDetalheICMS40_orig: TIntegerField;
    cdsDetalheICMS40_CST: TIntegerField;
    cdsDetalheICMS40_vICMS: TFloatField;
    cdsDetalhemotDesICMS: TIntegerField;
    cdsDetalheICMS51_orig: TIntegerField;
    cdsDetalheICMS51_CST: TIntegerField;
    cdsDetalheICMS51_modBC: TIntegerField;
    cdsDetalheICMS51_pRedBC: TFloatField;
    cdsDetalheICMS51_vBC: TFloatField;
    cdsDetalheICMS51_pICMS: TFloatField;
    cdsDetalheICMS51_vICMS: TFloatField;
    cdsDetalheICMS60_orig: TIntegerField;
    cdsDetalheICMS60_CST: TIntegerField;
    cdsDetalheICMS70_orig: TIntegerField;
    cdsDetalheICMS70_CST: TIntegerField;
    cdsDetalheICMS70_modBC: TIntegerField;
    cdsDetalheICMS70_pRedBC: TFloatField;
    cdsDetalheICMS70_vBC: TFloatField;
    cdsDetalheICMS70_pICMS: TFloatField;
    cdsDetalheICMS70_vICMS: TFloatField;
    cdsDetalheICMS70_modBCST: TIntegerField;
    cdsDetalheICMS70_pMVAST: TFloatField;
    cdsDetalheICMS70_pRedBCST: TFloatField;
    cdsDetalheICMS70_vBCST: TFloatField;
    cdsDetalheICMS70_pICMSST: TFloatField;
    cdsDetalheICMS70_vICMSST: TFloatField;
    cdsDetalheICMS90_orig: TIntegerField;
    cdsDetalheICMS90_CST: TIntegerField;
    cdsDetalheICMS90_modBC: TIntegerField;
    cdsDetalheICMS90_vBC: TFloatField;
    cdsDetalheICMS90_pRedBC: TFloatField;
    cdsDetalheICMS90_pICMS: TFloatField;
    cdsDetalheICMS90_vICMS: TFloatField;
    cdsDetalheICMS90_modBCST: TIntegerField;
    cdsDetalheICMS90_pMVAST: TFloatField;
    cdsDetalheICMS90_pRedBCST: TFloatField;
    cdsDetalheICMS90_vBCST: TFloatField;
    cdsDetalheICMS90_pICMSST: TFloatField;
    cdsDetalheICMS90_vICMSST: TFloatField;
    cdsDetalheICMSPart_orig: TIntegerField;
    cdsDetalheICMSPart_CST: TIntegerField;
    cdsDetalheICMSPart_modBC: TIntegerField;
    cdsDetalheICMSPart_vBC: TFloatField;
    cdsDetalheICMSPart_pRedBC: TFloatField;
    cdsDetalheICMSPart_pICMS: TFloatField;
    cdsDetalheICMSPart_vICMS: TFloatField;
    cdsDetalheICMSPart_modBCST: TIntegerField;
    cdsDetalheICMSPart_pMVAST: TFloatField;
    cdsDetalheICMSPart_pRedBCST: TFloatField;
    cdsDetalheICMSPart_vBCST: TFloatField;
    cdsDetalheICMSPart_pICMSST: TFloatField;
    cdsDetalheICMSPart_vICMSST: TFloatField;
    cdsDetalhepBCOp: TFloatField;
    cdsDetalheUFST: TStringField;
    cdsDetalheICMSST_orig: TIntegerField;
    cdsDetalheICMSST_CST: TIntegerField;
    cdsDetalheICMSST_vBCSTRet: TFloatField;
    cdsDetalheICMSST_vICMSSTRet: TFloatField;
    cdsDetalhevBCSTDest: TFloatField;
    cdsDetalhevICMSSTDest: TFloatField;
    cdsDetalheICMSSN101_orig: TIntegerField;
    cdsDetalheICMSSN101_CSOSN: TIntegerField;
    cdsDetalheICMSSN101_pCredSN: TFloatField;
    cdsDetalheICMSSN101_vCredICMSSN: TFloatField;
    cdsDetalheICMSSN102_orig: TIntegerField;
    cdsDetalheICMSSN102_CSOSN: TIntegerField;
    cdsDetalheICMSSN201_orig: TIntegerField;
    cdsDetalheICMSSN201_CSOSN: TIntegerField;
    cdsDetalheICMSSN201_modBCST: TIntegerField;
    cdsDetalheICMSSN201_pMVAST: TFloatField;
    cdsDetalheICMSSN201_pRedBCST: TFloatField;
    cdsDetalheICMSSN201_vBCST: TFloatField;
    cdsDetalheICMSSN201_pICMSST: TFloatField;
    cdsDetalheICMSSN201_vICMSST: TFloatField;
    cdsDetalheICMSSN201_pCredSN: TFloatField;
    cdsDetalheICMSSN201_vCredICMSSN: TFloatField;
    cdsDetalheICMSSN202_orig: TIntegerField;
    cdsDetalheICMSSN202_CSOSN: TIntegerField;
    cdsDetalheICMSSN202_modBCST: TIntegerField;
    cdsDetalheICMSSN202_pMVAST: TFloatField;
    cdsDetalheICMSSN202_pRedBCST: TFloatField;
    cdsDetalheICMSSN202_vBCST: TFloatField;
    cdsDetalheICMSSN202_pICMSST: TFloatField;
    cdsDetalheICMSSN202_vICMSST: TFloatField;
    cdsDetalheICMSSN500_orig: TIntegerField;
    cdsDetalheICMSSN500_CSOSN: TIntegerField;
    cdsDetalheICMSSN500_vBCSTRet: TFloatField;
    cdsDetalheICMSSN500_vICMSSTRet: TFloatField;
    cdsDetalheICMSSN900_orig: TIntegerField;
    cdsDetalheICMSSN900_CSOSN: TIntegerField;
    cdsDetalheICMSSN900_modBC: TIntegerField;
    cdsDetalheICMSSN900_vBC: TFloatField;
    cdsDetalheICMSSN900_pRedBC: TFloatField;
    cdsDetalheICMSSN900_pICMS: TFloatField;
    cdsDetalheICMSSN900_vICMS: TFloatField;
    cdsDetalheICMSSN900_modBCST: TIntegerField;
    cdsDetalheICMSSN900_pMVAST: TFloatField;
    cdsDetalheICMSSN900_pRedBCST: TFloatField;
    cdsDetalheICMSSN900_vBCST: TFloatField;
    cdsDetalheICMSSN900_pICMSST: TFloatField;
    cdsDetalheICMSSN900_vICMSST: TFloatField;
    cdsDetalheICMSSN900_pCredSN: TFloatField;
    cdsDetalheICMSSN900_vCredICMSSN: TFloatField;
    dsDetalhe: TDataSource;
    cdsDeclaracaoImportacao: TClientDataSet;
    cdsDeclaracaoImportacaonDI: TStringField;
    cdsDeclaracaoImportacaodDI: TDateField;
    cdsDeclaracaoImportacaoxLocDesemb: TStringField;
    cdsDeclaracaoImportacaoUFDesemb: TStringField;
    cdsDeclaracaoImportacaodDesemb: TDateField;
    cdsDeclaracaoImportacaocExportador: TStringField;
    cdsDeclaracaoImportacaoadi: TDataSetField;
    dsDeclaracaoImportacao: TDataSource;
    cdsAdicoes: TClientDataSet;
    cdsAdicoesnAdicao: TIntegerField;
    cdsAdicoesnSeqAdic: TIntegerField;
    cdsAdicoescFabricante: TStringField;
    cdsAdicoesvDescDI: TFloatField;
    dsAdicoes: TDataSource;
    mItensNota: TClientDataSet;
    mItensNotaItem: TIntegerField;
    mItensNotaCodProduto: TStringField;
    mItensNotaCodProdutoInterno: TIntegerField;
    mItensNotaCodCor: TIntegerField;
    mItensNotaCodGrade: TIntegerField;
    mItensNotaPosicao: TIntegerField;
    mItensNotaTamanho: TStringField;
    mItensNotaNomeCor: TStringField;
    mItensNotaQtd: TFloatField;
    mItensNotaVlrUnitario: TFloatField;
    mItensNotaVlrTotal: TFloatField;
    mItensNotaAliqIcms: TFloatField;
    mItensNotaAliqIPI: TFloatField;
    mItensNotaCodSitTrib: TStringField;
    mItensNotaCodSitTribInterno: TIntegerField;
    mItensNotaCodCSTIPI: TStringField;
    mItensNotaCodCofins: TStringField;
    mItensNotaCodPIS: TStringField;
    mItensNotaAliqPIS: TFloatField;
    mItensNotaAliqCofins: TFloatField;
    mItensNotaVlrPis: TFloatField;
    mItensNotaVlrIcms: TFloatField;
    mItensNotaVlrCofins: TFloatField;
    mItensNotaVlrIPI: TFloatField;
    mItensNotaBaseIcms: TFloatField;
    mItensNotaUnidade: TStringField;
    mItensNotaNumPedido: TStringField;
    mItensNotaItemPedido: TIntegerField;
    mItensNotaCodBarra: TStringField;
    mItensNotaGravarNovo: TBooleanField;
    mItensNotaPercRedIcms: TFloatField;
    mItensNotaCodFornecedor: TIntegerField;
    mItensNotaNomeProduto: TStringField;
    mItensNotaNCM: TStringField;
    mItensNotaCFOP: TStringField;
    mItensNotaCFOPInterno: TStringField;
    mItensNotaBaseCSTRet: TFloatField;
    mItensNotaVlrIcmsCSTRet: TFloatField;
    mItensNotaModICMS: TStringField;
    mItensNotaOrigem: TStringField;
    mItensNotaModIcmsST: TStringField;
    mItensNotaPercMVAST: TFloatField;
    mItensNotaPercRedBCST: TFloatField;
    mItensNotaBaseCST: TFloatField;
    mItensNotaPercIcmsST: TFloatField;
    mItensNotaVlrIcmsST: TFloatField;
    mItensNotaVlrDesconto: TFloatField;
    mItensNotaProdMat: TStringField;
    mItensNotaVlrFrete: TFloatField;
    mItensNotaInfAdicionais: TStringField;
    mItensNotaNumLote: TStringField;
    mItensNotaQtdPacote: TFloatField;
    mItensNotaMercado: TStringField;
    mItensNotaCFOPOriginal: TStringField;
    mItensNotaConversorUnidade: TFloatField;
    dsmItensNota: TDataSource;
    sdsProduto: TSQLDataSet;
    dspProduto: TDataSetProvider;
    cdsProduto: TClientDataSet;
    dsProduto: TDataSource;
    sdsProdutoID: TIntegerField;
    sdsProdutoREFERENCIA: TStringField;
    sdsProdutoNOME: TStringField;
    sdsProdutoPESOLIQUIDO: TFloatField;
    sdsProdutoPESOBRUTO: TFloatField;
    sdsProdutoINATIVO: TStringField;
    sdsProdutoID_CSTIPI: TIntegerField;
    sdsProdutoPERC_IPI: TFloatField;
    sdsProdutoPRECO_CUSTO: TFloatField;
    sdsProdutoPRECO_VENDA: TFloatField;
    sdsProdutoTIPO_REG: TStringField;
    sdsProdutoPOSSE_MATERIAL: TStringField;
    sdsProdutoESTOQUE: TStringField;
    sdsProdutoMATERIAL_OUTROS: TStringField;
    sdsProdutoUSUARIO: TStringField;
    sdsProdutoDTCAD: TDateField;
    sdsProdutoHRCAD: TTimeField;
    sdsProdutoCA: TStringField;
    sdsProdutoCOMPLEMENTO: TStringField;
    sdsProdutoID_NCM: TIntegerField;
    sdsProdutoORIGEM_PROD: TStringField;
    sdsProdutoOBS: TMemoField;
    sdsProdutoCODSITCF: TStringField;
    sdsProdutoPERC_REDUCAOICMS: TFloatField;
    sdsProdutoTIPO_VENDA: TStringField;
    sdsProdutoPERC_MARGEMLUCRO: TFloatField;
    sdsProdutoUNIDADE: TStringField;
    cdsProdutoID: TIntegerField;
    cdsProdutoREFERENCIA: TStringField;
    cdsProdutoNOME: TStringField;
    cdsProdutoPESOLIQUIDO: TFloatField;
    cdsProdutoPESOBRUTO: TFloatField;
    cdsProdutoINATIVO: TStringField;
    cdsProdutoID_CSTIPI: TIntegerField;
    cdsProdutoPERC_IPI: TFloatField;
    cdsProdutoPRECO_CUSTO: TFloatField;
    cdsProdutoPRECO_VENDA: TFloatField;
    cdsProdutoTIPO_REG: TStringField;
    cdsProdutoPOSSE_MATERIAL: TStringField;
    cdsProdutoESTOQUE: TStringField;
    cdsProdutoMATERIAL_OUTROS: TStringField;
    cdsProdutoUSUARIO: TStringField;
    cdsProdutoDTCAD: TDateField;
    cdsProdutoHRCAD: TTimeField;
    cdsProdutoCA: TStringField;
    cdsProdutoCOMPLEMENTO: TStringField;
    cdsProdutoID_NCM: TIntegerField;
    cdsProdutoORIGEM_PROD: TStringField;
    cdsProdutoOBS: TMemoField;
    cdsProdutoCODSITCF: TStringField;
    cdsProdutoPERC_REDUCAOICMS: TFloatField;
    cdsProdutoTIPO_VENDA: TStringField;
    cdsProdutoPERC_MARGEMLUCRO: TFloatField;
    cdsProdutoUNIDADE: TStringField;
    qCFOP: TSQLQuery;
    qCFOPID: TIntegerField;
    qCFOPCODCFOP: TStringField;
    qCFOPNOME: TStringField;
    qCFOPENTRADASAIDA: TStringField;
    qCFOPGERAR_IPI: TStringField;
    qCFOPGERAR_ICMS: TStringField;
    qCFOPGERAR_DUPLICATA: TStringField;
    qCFOPSOMAR_VLRTOTALPRODUTO: TStringField;
    qCFOPNOME_INTERNO: TStringField;
    qCFOPID_CSTICMS: TIntegerField;
    qCFOPID_CSTIPI: TIntegerField;
    qCFOPCOPIARNOTATRIANGULAR: TStringField;
    qCFOPID_PIS: TIntegerField;
    qCFOPID_COFINS: TIntegerField;
    qCFOPTIPO_PIS: TStringField;
    qCFOPTIPO_COFINS: TStringField;
    qCFOPGERAR_ICMS_SIMPLES: TStringField;
    qCFOPTIPO_EMPRESA: TStringField;
    qCFOPSUBSTITUICAO_TRIB: TStringField;
    qCFOPMVA: TStringField;
    qCFOPPERC_COFINS: TFloatField;
    qCFOPPERC_PIS: TFloatField;
    qCFOPLEI: TMemoField;
    qCFOPBENEFICIAMENTO: TStringField;
    qParametros: TSQLQuery;
    qParametrosID: TIntegerField;
    qParametrosENDXMLNFE: TStringField;
    qParametrosENDPDFNFE: TStringField;
    qParametrosSERIENORMAL: TStringField;
    qParametrosSERIECONTINGENCIA: TStringField;
    qParametrosLOCALSERVIDORNFE: TStringField;
    qParametrosEMAILRESPONSAVELSISTEMA: TStringField;
    qParametrosNFEPRODUCAO: TStringField;
    qParametrosANEXARDANFE: TStringField;
    qParametrosVERSAONFE: TStringField;
    qParametrosVERSAOEMISSAONFE: TStringField;
    qParametrosTIPOLOGONFE: TStringField;
    qParametrosAPLICARDESCONTONOICMS: TStringField;
    qParametrosAPLICARDESCONTONOIPI: TStringField;
    qParametrosSOMARNOPROD_FRETE: TStringField;
    qParametrosSOMARNOPROD_OUTRASDESP: TStringField;
    qParametrosSOMARNOPROD_SEGURO: TStringField;
    qParametrosAJUSTELOGONFEAUTOMATICO: TStringField;
    qParametrosINFNUMNOTAMANUAL: TStringField;
    qParametrosOPCAO_DTENTREGAPEDIDO: TStringField;
    qParametrosOBS_SIMPLES: TStringField;
    qParametrosIMP_OBSSIMPLES: TStringField;
    qParametrosIMP_REFERENCIANANOTA: TStringField;
    qParametrosENVIARNOTABENEF_NANFE: TStringField;
    qParametrosESPECIE_NOTA: TStringField;
    qParametrosMARCA_NOTA: TStringField;
    qParametrosVERSAO_BANCO: TIntegerField;
    qParametrosUSA_QTDPACOTE_NTE: TStringField;
    sdsCidade: TSQLDataSet;
    dspCidade: TDataSetProvider;
    cdsCidade: TClientDataSet;
    dsCidade: TDataSource;
    sdsCidadeID: TIntegerField;
    sdsCidadeNOME: TStringField;
    sdsCidadeUF: TStringField;
    sdsCidadeCODMUNICIPIO: TStringField;
    cdsCidadeID: TIntegerField;
    cdsCidadeNOME: TStringField;
    cdsCidadeUF: TStringField;
    cdsCidadeCODMUNICIPIO: TStringField;
    sdsPais: TSQLDataSet;
    dspPais: TDataSetProvider;
    cdsPais: TClientDataSet;
    dsPais: TDataSource;
    sdsPaisID: TIntegerField;
    sdsPaisNOME: TStringField;
    sdsPaisCODPAIS: TStringField;
    cdsPaisID: TIntegerField;
    cdsPaisNOME: TStringField;
    cdsPaisCODPAIS: TStringField;
    sdsFornecedor: TSQLDataSet;
    dspFornecedor: TDataSetProvider;
    cdsFornecedor: TClientDataSet;
    dsFornecedor: TDataSource;
    sdsFornecedorCODIGO: TIntegerField;
    sdsFornecedorNOME: TStringField;
    sdsFornecedorFANTASIA: TStringField;
    sdsFornecedorENDERECO: TStringField;
    sdsFornecedorCOMPLEMENTO_END: TStringField;
    sdsFornecedorNUM_END: TStringField;
    sdsFornecedorBAIRRO: TStringField;
    sdsFornecedorID_CIDADE: TIntegerField;
    sdsFornecedorCIDADE: TStringField;
    sdsFornecedorUF: TStringField;
    sdsFornecedorCEP: TStringField;
    sdsFornecedorDDDFONE1: TIntegerField;
    sdsFornecedorTELEFONE1: TStringField;
    sdsFornecedorDDDFONE2: TIntegerField;
    sdsFornecedorTELEFONE2: TStringField;
    sdsFornecedorDDDFAX: TIntegerField;
    sdsFornecedorFAX: TStringField;
    sdsFornecedorPESSOA: TStringField;
    sdsFornecedorCNPJ_CPF: TStringField;
    sdsFornecedorINSCR_EST: TStringField;
    sdsFornecedorENDERECO_ENT: TStringField;
    sdsFornecedorCOMPLEMENTO_END_ENT: TStringField;
    sdsFornecedorNUM_END_ENT: TStringField;
    sdsFornecedorBAIRRO_ENT: TStringField;
    sdsFornecedorID_CIDADE_ENT: TIntegerField;
    sdsFornecedorCIDADE_ENT: TStringField;
    sdsFornecedorCEP_ENT: TStringField;
    sdsFornecedorUF_ENT: TStringField;
    sdsFornecedorPESSOA_ENT: TStringField;
    sdsFornecedorCNPJ_CPF_ENT: TStringField;
    sdsFornecedorINSC_EST_ENT: TStringField;
    sdsFornecedorENDERECO_PGTO: TStringField;
    sdsFornecedorCOMPLEMENTO_END_PGTO: TStringField;
    sdsFornecedorNUM_END_PGTO: TStringField;
    sdsFornecedorBAIRRO_PGTO: TStringField;
    sdsFornecedorID_CIDADE_PGTO: TIntegerField;
    sdsFornecedorCIDADE_PGTO: TStringField;
    sdsFornecedorCEP_PGTO: TStringField;
    sdsFornecedorUF_PGTO: TStringField;
    sdsFornecedorUSUARIO: TStringField;
    sdsFornecedorDTCADASTRO: TDateField;
    sdsFornecedorHRCADASTRO: TTimeField;
    sdsFornecedorOBS: TMemoField;
    sdsFornecedorCAIXAPOSTAL: TStringField;
    sdsFornecedorRG: TStringField;
    sdsFornecedorID_VENDEDOR: TIntegerField;
    sdsFornecedorID_CONDPGTO: TIntegerField;
    sdsFornecedorID_CONTABOLETO: TIntegerField;
    sdsFornecedorID_TRANSPORTADORA: TIntegerField;
    sdsFornecedorID_TIPOCOBRANCA: TIntegerField;
    sdsFornecedorID_REDESPACHO: TIntegerField;
    sdsFornecedorID_PAIS: TIntegerField;
    sdsFornecedorID_REGIME_TRIB: TIntegerField;
    sdsFornecedorPERC_COMISSAO: TFloatField;
    sdsFornecedorDDD_ENT: TIntegerField;
    sdsFornecedorFONE_ENT: TStringField;
    sdsFornecedorDDD_PGTO: TIntegerField;
    sdsFornecedorFONE_PGTO: TStringField;
    sdsFornecedorINATIVO: TStringField;
    sdsFornecedorHOMEPAGE: TStringField;
    sdsFornecedorTIPO_FRETE: TStringField;
    sdsFornecedorNOME_ENTREGA: TStringField;
    sdsFornecedorEMAIL_NFE: TStringField;
    sdsFornecedorEMAIL_PGTO: TStringField;
    sdsFornecedorEMAIL_NFE2: TStringField;
    sdsFornecedorPESSOA_PGTO: TStringField;
    sdsFornecedorCNPJ_CPG_PGTO: TStringField;
    sdsFornecedorINSC_EST_PGTO: TStringField;
    sdsFornecedorUF_PLACA: TStringField;
    sdsFornecedorPLACA: TStringField;
    sdsFornecedorTP_CLIENTE: TStringField;
    sdsFornecedorTP_FORNECEDOR: TStringField;
    sdsFornecedorTP_TRANSPORTADORA: TStringField;
    sdsFornecedorTP_VENDEDOR: TStringField;
    cdsFornecedorCODIGO: TIntegerField;
    cdsFornecedorNOME: TStringField;
    cdsFornecedorFANTASIA: TStringField;
    cdsFornecedorENDERECO: TStringField;
    cdsFornecedorCOMPLEMENTO_END: TStringField;
    cdsFornecedorNUM_END: TStringField;
    cdsFornecedorBAIRRO: TStringField;
    cdsFornecedorID_CIDADE: TIntegerField;
    cdsFornecedorCIDADE: TStringField;
    cdsFornecedorUF: TStringField;
    cdsFornecedorCEP: TStringField;
    cdsFornecedorDDDFONE1: TIntegerField;
    cdsFornecedorTELEFONE1: TStringField;
    cdsFornecedorDDDFONE2: TIntegerField;
    cdsFornecedorTELEFONE2: TStringField;
    cdsFornecedorDDDFAX: TIntegerField;
    cdsFornecedorFAX: TStringField;
    cdsFornecedorPESSOA: TStringField;
    cdsFornecedorCNPJ_CPF: TStringField;
    cdsFornecedorINSCR_EST: TStringField;
    cdsFornecedorENDERECO_ENT: TStringField;
    cdsFornecedorCOMPLEMENTO_END_ENT: TStringField;
    cdsFornecedorNUM_END_ENT: TStringField;
    cdsFornecedorBAIRRO_ENT: TStringField;
    cdsFornecedorID_CIDADE_ENT: TIntegerField;
    cdsFornecedorCIDADE_ENT: TStringField;
    cdsFornecedorCEP_ENT: TStringField;
    cdsFornecedorUF_ENT: TStringField;
    cdsFornecedorPESSOA_ENT: TStringField;
    cdsFornecedorCNPJ_CPF_ENT: TStringField;
    cdsFornecedorINSC_EST_ENT: TStringField;
    cdsFornecedorENDERECO_PGTO: TStringField;
    cdsFornecedorCOMPLEMENTO_END_PGTO: TStringField;
    cdsFornecedorNUM_END_PGTO: TStringField;
    cdsFornecedorBAIRRO_PGTO: TStringField;
    cdsFornecedorID_CIDADE_PGTO: TIntegerField;
    cdsFornecedorCIDADE_PGTO: TStringField;
    cdsFornecedorCEP_PGTO: TStringField;
    cdsFornecedorUF_PGTO: TStringField;
    cdsFornecedorUSUARIO: TStringField;
    cdsFornecedorDTCADASTRO: TDateField;
    cdsFornecedorHRCADASTRO: TTimeField;
    cdsFornecedorOBS: TMemoField;
    cdsFornecedorCAIXAPOSTAL: TStringField;
    cdsFornecedorRG: TStringField;
    cdsFornecedorID_VENDEDOR: TIntegerField;
    cdsFornecedorID_CONDPGTO: TIntegerField;
    cdsFornecedorID_CONTABOLETO: TIntegerField;
    cdsFornecedorID_TRANSPORTADORA: TIntegerField;
    cdsFornecedorID_TIPOCOBRANCA: TIntegerField;
    cdsFornecedorID_REDESPACHO: TIntegerField;
    cdsFornecedorID_PAIS: TIntegerField;
    cdsFornecedorID_REGIME_TRIB: TIntegerField;
    cdsFornecedorPERC_COMISSAO: TFloatField;
    cdsFornecedorDDD_ENT: TIntegerField;
    cdsFornecedorFONE_ENT: TStringField;
    cdsFornecedorDDD_PGTO: TIntegerField;
    cdsFornecedorFONE_PGTO: TStringField;
    cdsFornecedorINATIVO: TStringField;
    cdsFornecedorHOMEPAGE: TStringField;
    cdsFornecedorTIPO_FRETE: TStringField;
    cdsFornecedorNOME_ENTREGA: TStringField;
    cdsFornecedorEMAIL_NFE: TStringField;
    cdsFornecedorEMAIL_PGTO: TStringField;
    cdsFornecedorEMAIL_NFE2: TStringField;
    cdsFornecedorPESSOA_PGTO: TStringField;
    cdsFornecedorCNPJ_CPG_PGTO: TStringField;
    cdsFornecedorINSC_EST_PGTO: TStringField;
    cdsFornecedorUF_PLACA: TStringField;
    cdsFornecedorPLACA: TStringField;
    cdsFornecedorTP_CLIENTE: TStringField;
    cdsFornecedorTP_FORNECEDOR: TStringField;
    cdsFornecedorTP_TRANSPORTADORA: TStringField;
    cdsFornecedorTP_VENDEDOR: TStringField;
    sdsNotaFiscal: TSQLDataSet;
    sdsNotaFiscalID: TIntegerField;
    sdsNotaFiscalFILIAL: TIntegerField;
    sdsNotaFiscalSERIE: TStringField;
    sdsNotaFiscalNUMNOTA: TIntegerField;
    sdsNotaFiscalDTEMISSAO: TDateField;
    sdsNotaFiscalID_CFOP: TIntegerField;
    sdsNotaFiscalID_CLIENTE: TIntegerField;
    sdsNotaFiscalID_CONDPGTO: TIntegerField;
    sdsNotaFiscalID_VENDEDOR: TIntegerField;
    sdsNotaFiscalVLR_ICMS: TFloatField;
    sdsNotaFiscalVLR_IPI: TFloatField;
    sdsNotaFiscalVLR_NOTA: TFloatField;
    sdsNotaFiscalVLR_ITENS: TFloatField;
    sdsNotaFiscalVLR_DUPLICATA: TFloatField;
    sdsNotaFiscalVLR_ENTRADA: TFloatField;
    sdsNotaFiscalPERC_DESCONTO: TFloatField;
    sdsNotaFiscalVLR_DESCONTO: TFloatField;
    sdsNotaFiscalVLR_FRETE: TFloatField;
    sdsNotaFiscalVLR_SEGURO: TFloatField;
    sdsNotaFiscalVLR_OUTRASDESP: TFloatField;
    sdsNotaFiscalBASE_ICMSTRANSF: TFloatField;
    sdsNotaFiscalPERC_TRANSF: TFloatField;
    sdsNotaFiscalVLR_TRANSF: TFloatField;
    sdsNotaFiscalVLR_PIS: TFloatField;
    sdsNotaFiscalVLR_COFINS: TFloatField;
    sdsNotaFiscalVLR_TAXACISCOMEX: TFloatField;
    sdsNotaFiscalVLR_OUTROS: TFloatField;
    sdsNotaFiscalBASE_ICMSSIMPLES: TFloatField;
    sdsNotaFiscalVLR_ICMSSIMPLES: TFloatField;
    sdsNotaFiscalPERC_ICMSSIMPLES: TFloatField;
    sdsNotaFiscalVLR_IMPORTACAO: TFloatField;
    sdsNotaFiscalBASE_ICMSSUBST: TFloatField;
    sdsNotaFiscalVLR_ICMSSUBST: TFloatField;
    sdsNotaFiscalBASE_ICMSOUTROS: TFloatField;
    sdsNotaFiscalVLR_ICMSOUTROS: TFloatField;
    sdsNotaFiscalVLR_DUPLICATAOUTROS: TFloatField;
    sdsNotaFiscalVLR_ADUANEIRA: TFloatField;
    sdsNotaFiscalPERC_ICMS_PISCOFINS: TFloatField;
    sdsNotaFiscalPERC_ICMS_OUTROSVALORES: TFloatField;
    sdsNotaFiscalPERC_ICMS_FRETE: TFloatField;
    sdsNotaFiscalPERC_DESCONTOORIG: TFloatField;
    sdsNotaFiscalQTDVOLUME: TIntegerField;
    sdsNotaFiscalESPECIE: TStringField;
    sdsNotaFiscalMARCA: TStringField;
    sdsNotaFiscalNUMEROVOLUME: TStringField;
    sdsNotaFiscalPESOBRUTO: TFloatField;
    sdsNotaFiscalPESOLIQUIDO: TFloatField;
    sdsNotaFiscalPLACA: TStringField;
    sdsNotaFiscalUFPLACA: TStringField;
    sdsNotaFiscalTIPO_FRETE: TStringField;
    sdsNotaFiscalID_TRANSPORTADORA: TIntegerField;
    sdsNotaFiscalID_REDESPACHO: TIntegerField;
    sdsNotaFiscalCANCELADA: TStringField;
    sdsNotaFiscalMOTIVO_CANCELADA: TStringField;
    sdsNotaFiscalDTSAIDAENTRADA: TDateField;
    sdsNotaFiscalHRSAIDAENTRADA: TTimeField;
    sdsNotaFiscalID_BANCO: TIntegerField;
    sdsNotaFiscalLOCALENTREGA: TStringField;
    sdsNotaFiscalID_EXTCOMISSAO: TIntegerField;
    sdsNotaFiscalDESCRICAO_DESC: TStringField;
    sdsNotaFiscalID_CLIENTETRIANG: TIntegerField;
    sdsNotaFiscalQTDTOTAL_ITENS: TIntegerField;
    sdsNotaFiscalNFERECIBO: TStringField;
    sdsNotaFiscalNFEPROTOCOLO: TStringField;
    sdsNotaFiscalNFECHAVEACESSO: TStringField;
    sdsNotaFiscalNFEPROTOCOLO_CANCELADA: TStringField;
    sdsNotaFiscalTIPO_ENVIONFE: TStringField;
    sdsNotaFiscalNFECODBARRA_CONTINGENCIA: TStringField;
    sdsNotaFiscalNFEVERSAO: TStringField;
    sdsNotaFiscalNFEFINALIDADE: TStringField;
    sdsNotaFiscalNFEAMBIENTE: TStringField;
    sdsNotaFiscalNUMNOTACOPIADA: TIntegerField;
    sdsNotaFiscalSERIECOPIADA: TStringField;
    sdsNotaFiscalDTCONTINGENCIA: TDateField;
    sdsNotaFiscalHRCONTINGENCIA: TTimeField;
    sdsNotaFiscalMOTIVO_CONTINGENCIA: TStringField;
    sdsNotaFiscalNFEVERSAOEMISSAO: TStringField;
    sdsNotaFiscalID_REGIMETRIB: TIntegerField;
    sdsNotaFiscalRNTC: TStringField;
    sdsNotaFiscalVAGAOBALSA_IDENTIF: TStringField;
    sdsNotaFiscalVAGAOBALSA_TIPOIDENTIF: TStringField;
    sdsNotaFiscalUFEMBEXPORTACAO: TStringField;
    sdsNotaFiscalLOCALEMBEXPORTACAO: TStringField;
    sdsNotaFiscalPISCOFINS_SOMAROUTRASDESP: TStringField;
    sdsNotaFiscalGERARDUPL_OUTROSVALORES: TStringField;
    sdsNotaFiscalGERARDUPL_FRETE: TStringField;
    sdsNotaFiscalGERARDUPL_SEGURO: TStringField;
    sdsNotaFiscalINFORMADO_NUMNOTAMANUAL: TStringField;
    sdsNotaFiscalNFEDENEGADA: TStringField;
    sdsNotaFiscalMOTIVO_DENEGADA: TStringField;
    sdsNotaFiscalDADOS_ADICIONAIS: TMemoField;
    sdsNotaFiscalBASE_ICMS: TFloatField;
    sdsNotaFiscalDTINICIO_DUPLICATA: TDateField;
    sdsNotaFiscalTIPO_DESCONTO: TStringField;
    sdsNotaFiscalTIPO_PRAZO: TStringField;
    sdsNotaFiscalPERC_COMISSAO: TFloatField;
    sdsNotaFiscalTIPO_NOTA: TStringField;
    sdsNotaFiscalSIMPLES_FILIAL: TStringField;
    sdsNotaFiscalTIPO_REG: TStringField;
    dspNotaFiscal: TDataSetProvider;
    cdsNotaFiscal: TClientDataSet;
    cdsNotaFiscalFILIAL: TIntegerField;
    cdsNotaFiscalID: TIntegerField;
    cdsNotaFiscalSERIE: TStringField;
    cdsNotaFiscalNUMNOTA: TIntegerField;
    cdsNotaFiscalDTEMISSAO: TDateField;
    cdsNotaFiscalID_CFOP: TIntegerField;
    cdsNotaFiscalID_CLIENTE: TIntegerField;
    cdsNotaFiscalID_CONDPGTO: TIntegerField;
    cdsNotaFiscalID_VENDEDOR: TIntegerField;
    cdsNotaFiscalVLR_ICMS: TFloatField;
    cdsNotaFiscalVLR_IPI: TFloatField;
    cdsNotaFiscalVLR_NOTA: TFloatField;
    cdsNotaFiscalVLR_ITENS: TFloatField;
    cdsNotaFiscalVLR_DUPLICATA: TFloatField;
    cdsNotaFiscalVLR_ENTRADA: TFloatField;
    cdsNotaFiscalPERC_DESCONTO: TFloatField;
    cdsNotaFiscalVLR_DESCONTO: TFloatField;
    cdsNotaFiscalVLR_FRETE: TFloatField;
    cdsNotaFiscalVLR_SEGURO: TFloatField;
    cdsNotaFiscalVLR_OUTRASDESP: TFloatField;
    cdsNotaFiscalBASE_ICMSTRANSF: TFloatField;
    cdsNotaFiscalPERC_TRANSF: TFloatField;
    cdsNotaFiscalVLR_TRANSF: TFloatField;
    cdsNotaFiscalVLR_PIS: TFloatField;
    cdsNotaFiscalVLR_COFINS: TFloatField;
    cdsNotaFiscalVLR_TAXACISCOMEX: TFloatField;
    cdsNotaFiscalVLR_OUTROS: TFloatField;
    cdsNotaFiscalBASE_ICMSSIMPLES: TFloatField;
    cdsNotaFiscalVLR_ICMSSIMPLES: TFloatField;
    cdsNotaFiscalPERC_ICMSSIMPLES: TFloatField;
    cdsNotaFiscalVLR_IMPORTACAO: TFloatField;
    cdsNotaFiscalBASE_ICMSSUBST: TFloatField;
    cdsNotaFiscalVLR_ICMSSUBST: TFloatField;
    cdsNotaFiscalBASE_ICMSOUTROS: TFloatField;
    cdsNotaFiscalVLR_ICMSOUTROS: TFloatField;
    cdsNotaFiscalVLR_DUPLICATAOUTROS: TFloatField;
    cdsNotaFiscalVLR_ADUANEIRA: TFloatField;
    cdsNotaFiscalPERC_ICMS_PISCOFINS: TFloatField;
    cdsNotaFiscalPERC_ICMS_OUTROSVALORES: TFloatField;
    cdsNotaFiscalPERC_ICMS_FRETE: TFloatField;
    cdsNotaFiscalPERC_DESCONTOORIG: TFloatField;
    cdsNotaFiscalQTDVOLUME: TIntegerField;
    cdsNotaFiscalESPECIE: TStringField;
    cdsNotaFiscalMARCA: TStringField;
    cdsNotaFiscalNUMEROVOLUME: TStringField;
    cdsNotaFiscalPESOBRUTO: TFloatField;
    cdsNotaFiscalPESOLIQUIDO: TFloatField;
    cdsNotaFiscalPLACA: TStringField;
    cdsNotaFiscalUFPLACA: TStringField;
    cdsNotaFiscalTIPO_FRETE: TStringField;
    cdsNotaFiscalID_TRANSPORTADORA: TIntegerField;
    cdsNotaFiscalID_REDESPACHO: TIntegerField;
    cdsNotaFiscalCANCELADA: TStringField;
    cdsNotaFiscalMOTIVO_CANCELADA: TStringField;
    cdsNotaFiscalDTSAIDAENTRADA: TDateField;
    cdsNotaFiscalHRSAIDAENTRADA: TTimeField;
    cdsNotaFiscalID_BANCO: TIntegerField;
    cdsNotaFiscalLOCALENTREGA: TStringField;
    cdsNotaFiscalID_EXTCOMISSAO: TIntegerField;
    cdsNotaFiscalDESCRICAO_DESC: TStringField;
    cdsNotaFiscalID_CLIENTETRIANG: TIntegerField;
    cdsNotaFiscalQTDTOTAL_ITENS: TIntegerField;
    cdsNotaFiscalNFERECIBO: TStringField;
    cdsNotaFiscalNFEPROTOCOLO: TStringField;
    cdsNotaFiscalNFECHAVEACESSO: TStringField;
    cdsNotaFiscalNFEPROTOCOLO_CANCELADA: TStringField;
    cdsNotaFiscalTIPO_ENVIONFE: TStringField;
    cdsNotaFiscalNFECODBARRA_CONTINGENCIA: TStringField;
    cdsNotaFiscalNFEVERSAO: TStringField;
    cdsNotaFiscalNFEFINALIDADE: TStringField;
    cdsNotaFiscalNFEAMBIENTE: TStringField;
    cdsNotaFiscalNUMNOTACOPIADA: TIntegerField;
    cdsNotaFiscalSERIECOPIADA: TStringField;
    cdsNotaFiscalDTCONTINGENCIA: TDateField;
    cdsNotaFiscalHRCONTINGENCIA: TTimeField;
    cdsNotaFiscalMOTIVO_CONTINGENCIA: TStringField;
    cdsNotaFiscalNFEVERSAOEMISSAO: TStringField;
    cdsNotaFiscalID_REGIMETRIB: TIntegerField;
    cdsNotaFiscalRNTC: TStringField;
    cdsNotaFiscalVAGAOBALSA_IDENTIF: TStringField;
    cdsNotaFiscalVAGAOBALSA_TIPOIDENTIF: TStringField;
    cdsNotaFiscalUFEMBEXPORTACAO: TStringField;
    cdsNotaFiscalLOCALEMBEXPORTACAO: TStringField;
    cdsNotaFiscalPISCOFINS_SOMAROUTRASDESP: TStringField;
    cdsNotaFiscalGERARDUPL_OUTROSVALORES: TStringField;
    cdsNotaFiscalGERARDUPL_FRETE: TStringField;
    cdsNotaFiscalGERARDUPL_SEGURO: TStringField;
    cdsNotaFiscalINFORMADO_NUMNOTAMANUAL: TStringField;
    cdsNotaFiscalNFEDENEGADA: TStringField;
    cdsNotaFiscalMOTIVO_DENEGADA: TStringField;
    cdsNotaFiscalDADOS_ADICIONAIS: TMemoField;
    cdsNotaFiscalBASE_ICMS: TFloatField;
    cdsNotaFiscalDTINICIO_DUPLICATA: TDateField;
    cdsNotaFiscalTIPO_DESCONTO: TStringField;
    cdsNotaFiscalTIPO_PRAZO: TStringField;
    cdsNotaFiscalPERC_COMISSAO: TFloatField;
    cdsNotaFiscalTIPO_NOTA: TStringField;
    cdsNotaFiscalSIMPLES_FILIAL: TStringField;
    cdsNotaFiscalTIPO_REG: TStringField;
    dsNotaFiscal: TDataSource;
    dsNotaFiscal_Mestre: TDataSource;
    sdsNotaFiscal_Itens: TSQLDataSet;
    cdsNotaFiscal_Itens: TClientDataSet;
    dsNotaFiscal_Itens: TDataSource;
    cdsNotaFiscalsdsNotaFiscal_Itens: TDataSetField;
    sdsNotaFiscal_ItensID: TIntegerField;
    sdsNotaFiscal_ItensITEM: TIntegerField;
    sdsNotaFiscal_ItensID_PRODUTO: TIntegerField;
    sdsNotaFiscal_ItensID_COR: TIntegerField;
    sdsNotaFiscal_ItensTAMANHO: TStringField;
    sdsNotaFiscal_ItensID_NCM: TIntegerField;
    sdsNotaFiscal_ItensUNIDADE: TStringField;
    sdsNotaFiscal_ItensQTD: TFloatField;
    sdsNotaFiscal_ItensID_CFOP: TIntegerField;
    sdsNotaFiscal_ItensID_CSTICMS: TIntegerField;
    sdsNotaFiscal_ItensID_CSTIPI: TIntegerField;
    sdsNotaFiscal_ItensID_PIS: TIntegerField;
    sdsNotaFiscal_ItensID_COFINS: TIntegerField;
    sdsNotaFiscal_ItensPERC_ICMS: TFloatField;
    sdsNotaFiscal_ItensPERC_IPI: TFloatField;
    sdsNotaFiscal_ItensVLR_UNITARIO: TFloatField;
    sdsNotaFiscal_ItensVLR_TOTAL: TFloatField;
    sdsNotaFiscal_ItensPERC_DESCONTO: TFloatField;
    sdsNotaFiscal_ItensVLR_DESCONTO: TFloatField;
    sdsNotaFiscal_ItensBASE_ICMS: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMS: TFloatField;
    sdsNotaFiscal_ItensVLR_IPI: TFloatField;
    sdsNotaFiscal_ItensPERC_PIS: TFloatField;
    sdsNotaFiscal_ItensPERC_COFINS: TFloatField;
    sdsNotaFiscal_ItensVLR_PIS: TFloatField;
    sdsNotaFiscal_ItensVLR_COFINS: TFloatField;
    sdsNotaFiscal_ItensTIPO_PIS: TStringField;
    sdsNotaFiscal_ItensTIPO_COFINS: TStringField;
    sdsNotaFiscal_ItensORIGEM_PROD: TStringField;
    sdsNotaFiscal_ItensBASE_ICMSSIMPLES: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMSSIMPLES: TFloatField;
    sdsNotaFiscal_ItensCALCULARICMSSOBREIPI: TStringField;
    sdsNotaFiscal_ItensNOME_PRODUTO: TStringField;
    sdsNotaFiscal_ItensREFERENCIA: TStringField;
    sdsNotaFiscal_ItensID_MOVESTOQUE: TIntegerField;
    sdsNotaFiscal_ItensGERAR_DUPLICATA: TStringField;
    sdsNotaFiscal_ItensGERAR_ESTOQUE: TStringField;
    sdsNotaFiscal_ItensNUMERO_OC: TStringField;
    sdsNotaFiscal_ItensNUMERO_OS: TStringField;
    sdsNotaFiscal_ItensITEM_PEDIDO: TIntegerField;
    sdsNotaFiscal_ItensPERC_COMISSAO: TFloatField;
    sdsNotaFiscal_ItensQTDRESTANTE: TFloatField;
    sdsNotaFiscal_ItensQTDDEVOLVIDA: TFloatField;
    sdsNotaFiscal_ItensSOMAR_TRANSF_ICMS: TStringField;
    sdsNotaFiscal_ItensOBS_COMPLEMENTAR: TStringField;
    sdsNotaFiscal_ItensSOMAR_VLRTOTALPRODUTO: TStringField;
    sdsNotaFiscal_ItensVLR_FRETE: TFloatField;
    sdsNotaFiscal_ItensVLR_OUTRASDESPESAS: TFloatField;
    sdsNotaFiscal_ItensVLR_SEGURO: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMSFRETE: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMSOUTRASDESPESAS: TFloatField;
    sdsNotaFiscal_ItensBASE_ICMSSUBST: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMSSUBST: TFloatField;
    sdsNotaFiscal_ItensVLR_IMPORTACAO: TFloatField;
    sdsNotaFiscal_ItensVLR_ADUANEIRA: TFloatField;
    sdsNotaFiscal_ItensVLR_DESCONTORATEIO: TFloatField;
    sdsNotaFiscal_ItensQTD_ADEVOLVER: TFloatField;
    cdsNotaFiscal_ItensID: TIntegerField;
    cdsNotaFiscal_ItensITEM: TIntegerField;
    cdsNotaFiscal_ItensID_PRODUTO: TIntegerField;
    cdsNotaFiscal_ItensID_COR: TIntegerField;
    cdsNotaFiscal_ItensTAMANHO: TStringField;
    cdsNotaFiscal_ItensID_NCM: TIntegerField;
    cdsNotaFiscal_ItensUNIDADE: TStringField;
    cdsNotaFiscal_ItensQTD: TFloatField;
    cdsNotaFiscal_ItensID_CFOP: TIntegerField;
    cdsNotaFiscal_ItensID_CSTICMS: TIntegerField;
    cdsNotaFiscal_ItensID_CSTIPI: TIntegerField;
    cdsNotaFiscal_ItensID_PIS: TIntegerField;
    cdsNotaFiscal_ItensID_COFINS: TIntegerField;
    cdsNotaFiscal_ItensPERC_ICMS: TFloatField;
    cdsNotaFiscal_ItensPERC_IPI: TFloatField;
    cdsNotaFiscal_ItensVLR_UNITARIO: TFloatField;
    cdsNotaFiscal_ItensVLR_TOTAL: TFloatField;
    cdsNotaFiscal_ItensPERC_DESCONTO: TFloatField;
    cdsNotaFiscal_ItensVLR_DESCONTO: TFloatField;
    cdsNotaFiscal_ItensBASE_ICMS: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMS: TFloatField;
    cdsNotaFiscal_ItensVLR_IPI: TFloatField;
    cdsNotaFiscal_ItensPERC_PIS: TFloatField;
    cdsNotaFiscal_ItensPERC_COFINS: TFloatField;
    cdsNotaFiscal_ItensVLR_PIS: TFloatField;
    cdsNotaFiscal_ItensVLR_COFINS: TFloatField;
    cdsNotaFiscal_ItensTIPO_PIS: TStringField;
    cdsNotaFiscal_ItensTIPO_COFINS: TStringField;
    cdsNotaFiscal_ItensORIGEM_PROD: TStringField;
    cdsNotaFiscal_ItensBASE_ICMSSIMPLES: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMSSIMPLES: TFloatField;
    cdsNotaFiscal_ItensCALCULARICMSSOBREIPI: TStringField;
    cdsNotaFiscal_ItensNOME_PRODUTO: TStringField;
    cdsNotaFiscal_ItensREFERENCIA: TStringField;
    cdsNotaFiscal_ItensID_MOVESTOQUE: TIntegerField;
    cdsNotaFiscal_ItensGERAR_DUPLICATA: TStringField;
    cdsNotaFiscal_ItensGERAR_ESTOQUE: TStringField;
    cdsNotaFiscal_ItensNUMERO_OC: TStringField;
    cdsNotaFiscal_ItensNUMERO_OS: TStringField;
    cdsNotaFiscal_ItensITEM_PEDIDO: TIntegerField;
    cdsNotaFiscal_ItensPERC_COMISSAO: TFloatField;
    cdsNotaFiscal_ItensQTDRESTANTE: TFloatField;
    cdsNotaFiscal_ItensQTDDEVOLVIDA: TFloatField;
    cdsNotaFiscal_ItensSOMAR_TRANSF_ICMS: TStringField;
    cdsNotaFiscal_ItensOBS_COMPLEMENTAR: TStringField;
    cdsNotaFiscal_ItensSOMAR_VLRTOTALPRODUTO: TStringField;
    cdsNotaFiscal_ItensVLR_FRETE: TFloatField;
    cdsNotaFiscal_ItensVLR_OUTRASDESPESAS: TFloatField;
    cdsNotaFiscal_ItensVLR_SEGURO: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMSFRETE: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMSOUTRASDESPESAS: TFloatField;
    cdsNotaFiscal_ItensBASE_ICMSSUBST: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMSSUBST: TFloatField;
    cdsNotaFiscal_ItensVLR_IMPORTACAO: TFloatField;
    cdsNotaFiscal_ItensVLR_ADUANEIRA: TFloatField;
    cdsNotaFiscal_ItensVLR_DESCONTORATEIO: TFloatField;
    cdsNotaFiscal_ItensQTD_ADEVOLVER: TFloatField;
    sdsNotaFiscal_ItensQTD_PACOTE: TFloatField;
    cdsNotaFiscal_ItensQTD_PACOTE: TFloatField;
    mItensNotaID_NCM: TIntegerField;
    sdsTab_CSTICMS: TSQLDataSet;
    dspTab_CSTICMS: TDataSetProvider;
    cdsTab_CSTICMS: TClientDataSet;
    cdsTab_CSTICMSID: TIntegerField;
    cdsTab_CSTICMSPERCENTUAL: TFloatField;
    cdsTab_CSTICMSHISTORICO: TMemoField;
    cdsTab_CSTICMSTIPO: TStringField;
    cdsTab_CSTICMSNOME: TStringField;
    cdsTab_CSTICMSCOD_CST: TStringField;
    dsTab_CSTICMS: TDataSource;
    qFilial: TSQLQuery;
    qFilialID: TIntegerField;
    qFilialNOME: TStringField;
    qFilialNOME_INTERNO: TStringField;
    qFilialENDERECO: TStringField;
    qFilialCOMPLEMENTO_END: TStringField;
    qFilialNUM_END: TStringField;
    qFilialBAIRRO: TStringField;
    qFilialCEP: TStringField;
    qFilialID_CIDADE: TIntegerField;
    qFilialCIDADE: TStringField;
    qFilialUF: TStringField;
    qFilialDDD1: TIntegerField;
    qFilialFONE1: TStringField;
    qFilialDDD2: TIntegerField;
    qFilialFONE: TStringField;
    qFilialDDDFAX: TIntegerField;
    qFilialFAX: TStringField;
    qFilialPESSOA: TStringField;
    qFilialCNPJ_CPF: TStringField;
    qFilialINSCR_EST: TStringField;
    qFilialSIMPLES: TStringField;
    qFilialENDLOGO: TStringField;
    qFilialCALCULAR_IPI: TStringField;
    qFilialINATIVO: TStringField;
    qFilialINSCMUNICIPAL: TStringField;
    qFilialCNAE: TStringField;
    qFilialHOMEPAGE: TStringField;
    qFilialUSARICMSSIMPLES: TStringField;
    qFilialID_REGIME_TRIB: TIntegerField;
    qFilialID_PIS: TIntegerField;
    qFilialID_COFINS: TIntegerField;
    qFilialTIPO_PIS: TStringField;
    qFilialTIPO_COFINS: TStringField;
    qFilialPERC_PIS: TFloatField;
    qFilialPERC_COFINS: TFloatField;
    qFilialID_CSTICMS: TIntegerField;
    qFilialID_CSTIPI: TIntegerField;
    qFilialEMAIL_NFE: TStringField;
    qFilialDTESTOQUE: TDateField;
    qFilialPRINCIPAL: TStringField;
    qFilialLIBERADO_ATE: TStringField;
    qFilialULTIMO_ACESSO: TStringField;
    sdsNCM: TSQLDataSet;
    dspNCM: TDataSetProvider;
    cdsNCM: TClientDataSet;
    dsNCM: TDataSource;
    sdsNCMID: TIntegerField;
    sdsNCMNCM: TStringField;
    sdsNCMNOME: TStringField;
    cdsNCMID: TIntegerField;
    cdsNCMNCM: TStringField;
    cdsNCMNOME: TStringField;
    qParametrosATUALIZAR_PRECO: TStringField;
    sdsProdutoDT_ALTPRECO: TDateField;
    cdsProdutoDT_ALTPRECO: TDateField;
    sdsNotaFiscalID_OPERACAO_NOTA: TIntegerField;
    sdsNotaFiscalFINALIDADE: TStringField;
    sdsNotaFiscalID_VARIACAO: TIntegerField;
    sdsNotaFiscal_ItensID_OPERACAO_NOTA: TIntegerField;
    sdsNotaFiscal_ItensITEM_DEVOL: TStringField;
    sdsNotaFiscal_ItensID_PEDIDO: TIntegerField;
    sdsNotaFiscal_ItensFINALIDADE: TStringField;
    sdsNotaFiscal_ItensID_VARIACAO: TIntegerField;
    cdsNotaFiscal_ItensID_OPERACAO_NOTA: TIntegerField;
    cdsNotaFiscal_ItensITEM_DEVOL: TStringField;
    cdsNotaFiscal_ItensID_PEDIDO: TIntegerField;
    cdsNotaFiscal_ItensFINALIDADE: TStringField;
    cdsNotaFiscal_ItensID_VARIACAO: TIntegerField;
    sdsUnidade: TSQLDataSet;
    dspUnidade: TDataSetProvider;
    cdsUnidade: TClientDataSet;
    dsUnidade: TDataSource;
    sdsUnidadeUNIDADE: TStringField;
    sdsUnidadeCONVERSOR: TFloatField;
    sdsUnidadeNOME: TStringField;
    cdsUnidadeUNIDADE: TStringField;
    cdsUnidadeCONVERSOR: TFloatField;
    cdsUnidadeNOME: TStringField;
    cdsNotaFiscalID_OPERACAO_NOTA: TIntegerField;
    cdsNotaFiscalFINALIDADE: TStringField;
    cdsNotaFiscalID_VARIACAO: TIntegerField;
    sdsNotaFiscal_Parc: TSQLDataSet;
    sdsNotaFiscal_ParcID: TIntegerField;
    sdsNotaFiscal_ParcITEM: TIntegerField;
    sdsNotaFiscal_ParcDTVENCIMENTO: TDateField;
    sdsNotaFiscal_ParcVLR_VENCIMENTO: TFloatField;
    sdsNotaFiscal_ParcID_TIPOCOBRANCA: TIntegerField;
    sdsNotaFiscal_ParcID_CONTA: TIntegerField;
    cdsNotaFiscalsdsNotaFiscal_Parc: TDataSetField;
    cdsNotaFiscal_Parc: TClientDataSet;
    cdsNotaFiscal_ParcID: TIntegerField;
    cdsNotaFiscal_ParcITEM: TIntegerField;
    cdsNotaFiscal_ParcDTVENCIMENTO: TDateField;
    cdsNotaFiscal_ParcVLR_VENCIMENTO: TFloatField;
    cdsNotaFiscal_ParcID_TIPOCOBRANCA: TIntegerField;
    cdsNotaFiscal_ParcID_CONTA: TIntegerField;
    qParametrosUSA_DESCRICAODANOTA: TStringField;
    mItensNotaNomeProduto_Nota: TStringField;
    mItensNotaTipoVenda: TStringField;
    sdsTab_CSTIPI: TSQLDataSet;
    dspTab_CSTIPI: TDataSetProvider;
    cdsTab_CSTIPI: TClientDataSet;
    dsTab_CSTIPI: TDataSource;
    cdsTab_CSTIPIID: TIntegerField;
    cdsTab_CSTIPICOD_IPI: TStringField;
    cdsTab_CSTIPINOME: TStringField;
    cdsTab_CSTIPIGERAR_IPI: TStringField;
    mItensNotaID_CSTIPI: TIntegerField;
    mItensNotaID_CSTICMS: TIntegerField;
    mItensNotaID_Cofins: TIntegerField;
    mItensNotaID_Pis: TIntegerField;
    sdsNotaFiscal_Ref: TSQLDataSet;
    sdsNotaFiscal_RefID: TIntegerField;
    sdsNotaFiscal_RefITEM: TIntegerField;
    sdsNotaFiscal_RefTIPO: TStringField;
    sdsNotaFiscal_RefID_NOTAREF: TIntegerField;
    sdsNotaFiscal_RefNUMNOTA_REF: TIntegerField;
    sdsNotaFiscal_RefSERIE_REF: TStringField;
    sdsNotaFiscal_RefUF_REF: TStringField;
    sdsNotaFiscal_RefANO_REF: TIntegerField;
    sdsNotaFiscal_RefMES_REF: TIntegerField;
    sdsNotaFiscal_RefCNPJ_REF: TStringField;
    sdsNotaFiscal_RefMODELO_REF: TStringField;
    sdsNotaFiscal_RefNFECHAVEACESSO_REF: TStringField;
    sdsNotaFiscal_RefID_FORNECEDOR: TIntegerField;
    sdsNotaFiscal_RefDESCRICAO_TIPO: TStringField;
    sdsNotaFiscal_RefCUPOM_NUMECF: TIntegerField;
    sdsNotaFiscal_RefCUPOM_NUMCOO: TIntegerField;
    sdsNotaFiscal_RefCUPOM_MODELO: TStringField;
    sdsNotaFiscal_RefINSCESTADUAL_REF: TStringField;
    cdsNotaFiscal_Ref: TClientDataSet;
    cdsNotaFiscal_RefID: TIntegerField;
    cdsNotaFiscal_RefITEM: TIntegerField;
    cdsNotaFiscal_RefTIPO: TStringField;
    cdsNotaFiscal_RefID_NOTAREF: TIntegerField;
    cdsNotaFiscal_RefNUMNOTA_REF: TIntegerField;
    cdsNotaFiscal_RefSERIE_REF: TStringField;
    cdsNotaFiscal_RefUF_REF: TStringField;
    cdsNotaFiscal_RefANO_REF: TIntegerField;
    cdsNotaFiscal_RefMES_REF: TIntegerField;
    cdsNotaFiscal_RefCNPJ_REF: TStringField;
    cdsNotaFiscal_RefINSCESTADUAL_REF: TStringField;
    cdsNotaFiscal_RefMODELO_REF: TStringField;
    cdsNotaFiscal_RefNFECHAVEACESSO_REF: TStringField;
    cdsNotaFiscal_RefID_FORNECEDOR: TIntegerField;
    cdsNotaFiscal_RefDESCRICAO_TIPO: TStringField;
    cdsNotaFiscal_RefCUPOM_NUMECF: TIntegerField;
    cdsNotaFiscal_RefCUPOM_NUMCOO: TIntegerField;
    cdsNotaFiscal_RefCUPOM_MODELO: TStringField;
    dsNotaFiscal_Ref: TDataSource;
    cdsNotaFiscalsdsNotaFiscal_Ref: TDataSetField;
    sdsNotaFiscal_ItensPERC_TRIBICMS: TFloatField;
    sdsNotaFiscal_ItensCOD_PRODUTO_FORN: TStringField;
    sdsNotaFiscal_ItensCOD_BARRA: TStringField;
    sdsNotaFiscal_ItensIMP_OC_NOTA: TStringField;
    sdsNotaFiscal_ItensNUM_PEDIDO: TIntegerField;
    sdsNotaFiscal_ItensID_NTE: TIntegerField;
    sdsNotaFiscal_ItensITEM_NTE: TIntegerField;
    sdsNotaFiscal_ItensQTD_NOTAATUAL: TFloatField;
    sdsNotaFiscal_ItensVLR_DUPLICATA: TFloatField;
    cdsNotaFiscal_ItensPERC_TRIBICMS: TFloatField;
    cdsNotaFiscal_ItensCOD_PRODUTO_FORN: TStringField;
    cdsNotaFiscal_ItensCOD_BARRA: TStringField;
    cdsNotaFiscal_ItensIMP_OC_NOTA: TStringField;
    cdsNotaFiscal_ItensNUM_PEDIDO: TIntegerField;
    cdsNotaFiscal_ItensID_NTE: TIntegerField;
    cdsNotaFiscal_ItensITEM_NTE: TIntegerField;
    cdsNotaFiscal_ItensQTD_NOTAATUAL: TFloatField;
    cdsNotaFiscal_ItensVLR_DUPLICATA: TFloatField;
    sdsNotaFiscal_ItensTIPO_NOTA: TStringField;
    cdsNotaFiscal_ItensTIPO_NOTA: TStringField;
    sdsProdutoID_FORNECEDOR: TIntegerField;
    cdsProdutoID_FORNECEDOR: TIntegerField;
    sdsProdutoCOD_BARRA: TStringField;
    cdsProdutoCOD_BARRA: TStringField;
    qParametrosENDXML_NOTAENTRADA: TStringField;
    mItensNotaReferencia_Int: TStringField;
    qParametrosGRAVAR_NA_REF_CODPRODFORN: TStringField;
    qParametrosGRAVAR_PROD_MAT_RECXML: TStringField;
    mItensNotaID_Pedido: TIntegerField;
    sdsNotaFiscal_ItensTIPO_REG: TStringField;
    cdsNotaFiscal_ItensTIPO_REG: TStringField;
    mPedidoAux: TClientDataSet;
    mPedidoAuxID_Pedido: TIntegerField;
    qParametrosGRAVAR_INF_ADICIONAIS_NTE: TStringField;
    sdsNCMPERC_RED_STRIB: TFloatField;
    sdsNCMGERAR_ST: TStringField;
    cdsNCMPERC_RED_STRIB: TFloatField;
    cdsNCMGERAR_ST: TStringField;
    mNota: TClientDataSet;
    mNotaVersao: TStringField;
    mNotaInfNFe_Id: TStringField;
    mNotaSerie: TStringField;
    mNotaNumNota: TIntegerField;
    mNotaID_Emitente: TIntegerField;
    mNotaCNPJ_CPF_Emitente: TStringField;
    mNotaPessoa: TStringField;
    mNotaNome_Emitente: TStringField;
    mNotaCFOP: TStringField;
    mNotaID_CFOP: TIntegerField;
    mNotaCFOP_Interno: TStringField;
    mNotaVlrTotal: TFloatField;
    mNotaVlrProduto: TFloatField;
    mNotaVlrICMS: TFloatField;
    mNotaBaseICMS: TFloatField;
    mNotaVlrIPI: TFloatField;
    mNotaVlrCofins: TFloatField;
    mNotaVlrPis: TFloatField;
    mNotaVlrICMSSimples: TFloatField;
    mNotaBaseICMSSimples: TFloatField;
    mNotaDtEmissao: TDateField;
    mNotaChaveAcesso: TStringField;
    mNotaProtocolo: TStringField;
    mNotaTipoAmbiente: TStringField;
    mNotaVerProc: TStringField;
    mNotaDtSaida: TDateField;
    mNotaProcesso: TStringField;
    mNotaedtFormaEmissao: TStringField;
    mNotaModelo: TStringField;
    mNotaTipoPagamento: TStringField;
    mNotaTipoPagamento_Des: TStringField;
    mNotaFinalidade: TStringField;
    mNotaCNPJ_CPF_Destinatario: TStringField;
    dsmNota: TDataSource;
    mNotaArquivo_XML: TStringField;
    mNotaVlrOutrasDespesas: TFloatField;
    mNotaVlrSeguro: TFloatField;
    mNotaVlrFrete: TFloatField;
    mNotaVlrDesconto: TFloatField;
    mNotaHrSaida: TStringField;
    mNotaFilial: TIntegerField;
    mNotaCodMunicipio: TStringField;
    mNotaID_Cidade: TIntegerField;
    mNotaNome_Cidade: TStringField;
    mNotaUF: TStringField;
    mNotaID_Pais: TIntegerField;
    mNotaCodPais: TStringField;
    mNotaTipo_ES: TStringField;
    mNotaIE_Emitente: TStringField;
    mNotaIE_Destinatario: TStringField;
    mNotaID_Transportadora: TIntegerField;
    mNotaCNPJ_CPF_Transportadora: TStringField;
    mNotaCRT: TIntegerField;
    mItensNotaItem_Unidade: TIntegerField;
    mItensNotaConverter_Unid_Medida: TBooleanField;
    mItensNotaQtdPacoteInterno: TFloatField;
    sdsNotaFiscal_ItensID_MOVIMENTO: TIntegerField;
    cdsNotaFiscal_ItensID_MOVIMENTO: TIntegerField;
    mItensNotaUnidadeInterno: TStringField;
    mItensNotaID_SitTrib_CF: TIntegerField;
    mItensNotaCod_SitTrib_CF: TStringField;
    sdsProdutoID_SITTRIB_CF: TIntegerField;
    cdsProdutoID_SITTRIB_CF: TIntegerField;
    qParametrosUSA_CUPOM_FISCAL: TStringField;
    qParametrosUSA_PERC_MARGEM_RECEPCAO: TStringField;
    cdsCabecalhoide_dhemi: TStringField;
    cdsCabecalhoide_dEmi: TDateField;
    cdsCFOPGERAR_ESTOQUE: TStringField;
    qParametrosPROCURAR_POR_REF_XML: TStringField;
    dsCliente: TDataSource;
    cdsCliente: TClientDataSet;
    dspCliente: TDataSetProvider;
    sdsCliente: TSQLDataSet;
    cdsClienteCODIGO: TIntegerField;
    cdsClienteNOME: TStringField;
    cdsClienteCNPJ_CPF: TStringField;
    dsFilial: TDataSource;
    cdsFilial: TClientDataSet;
    dspFilial: TDataSetProvider;
    sdsFilial: TSQLDataSet;
    cdsFilialID: TIntegerField;
    cdsFilialNOME: TStringField;
    cdsFilialNOME_INTERNO: TStringField;
    cdsFilialCNPJ_CPF: TStringField;
    mItensNotaUsa_Cor: TStringField;
    sdsProdutoUSA_PRECO_COR: TStringField;
    cdsProdutoUSA_PRECO_COR: TStringField;
    mItensNotaID_Cor: TIntegerField;
    qParametrosINFORMAR_COR_MATERIAL: TStringField;
    qParametrosINFORMAR_COR_PROD: TStringField;
    mItensNotaUsa_Preco_Cor: TStringField;
    sdsProdutoUSA_COR: TStringField;
    cdsProdutoUSA_COR: TStringField;
    sdsFornecedorFORNECEDOR_CONTA_ID: TIntegerField;
    cdsFornecedorFORNECEDOR_CONTA_ID: TIntegerField;
    mItensNotaInativo_Produto: TStringField;
    sdsProdutoID_CONTA_ORCAMENTO: TIntegerField;
    cdsProdutoID_CONTA_ORCAMENTO: TIntegerField;
    sdsNotaFiscal_ItensCONTA_ORCAMENTO_ID: TIntegerField;
    cdsNotaFiscal_ItensCONTA_ORCAMENTO_ID: TIntegerField;
    qParametrosUSA_LOCAL_ESTOQUE: TStringField;
    sdsLocal_Estoque: TSQLDataSet;
    dspLocal_Estoque: TDataSetProvider;
    cdsLocal_Estoque: TClientDataSet;
    cdsLocal_EstoqueID: TIntegerField;
    cdsLocal_EstoqueCOD_LOCAL: TIntegerField;
    cdsLocal_EstoqueNOME: TStringField;
    cdsLocal_EstoqueENDERECO: TStringField;
    cdsLocal_EstoqueNUM_ENDERECO: TStringField;
    cdsLocal_EstoqueID_CIDADE: TIntegerField;
    cdsLocal_EstoqueUF: TStringField;
    cdsLocal_EstoqueBAIRRO: TStringField;
    cdsLocal_EstoqueCEP: TStringField;
    cdsLocal_EstoquePRINCIPAL: TStringField;
    cdsLocal_EstoqueINATIVO: TStringField;
    dsLocal_Estoque: TDataSource;
    sdsNotaFiscalID_LOCAL_ESTOQUE: TIntegerField;
    cdsNotaFiscalID_LOCAL_ESTOQUE: TIntegerField;
    sdsFornecedorORGAO_PUBLICO: TStringField;
    sdsFornecedorCLIENTE_ESTOQUE: TStringField;
    sdsFornecedorUSA_TAMANHO_AGRUPADO_NFE: TStringField;
    sdsFornecedorTP_ALUNO: TStringField;
    sdsFornecedorTIPO_CONSUMIDOR: TSmallintField;
    sdsFornecedorTIPO_CONTRIBUINTE: TSmallintField;
    sdsFornecedorTP_PREPOSTO: TStringField;
    sdsFornecedorTP_EXPORTACAO: TStringField;
    cdsFornecedorORGAO_PUBLICO: TStringField;
    cdsFornecedorCLIENTE_ESTOQUE: TStringField;
    cdsFornecedorUSA_TAMANHO_AGRUPADO_NFE: TStringField;
    cdsFornecedorTP_ALUNO: TStringField;
    cdsFornecedorTIPO_CONSUMIDOR: TSmallintField;
    cdsFornecedorTIPO_CONTRIBUINTE: TSmallintField;
    cdsFornecedorTP_PREPOSTO: TStringField;
    cdsFornecedorTP_EXPORTACAO: TStringField;
    qParametrosUSA_LOTE_CONTROLE: TStringField;
    sdsNotaFiscal_ItensNUM_LOTE_CONTROLE: TStringField;
    cdsNotaFiscal_ItensNUM_LOTE_CONTROLE: TStringField;
    mItensNotaNum_Lote_Controle: TStringField;
    qParametrosID_LOCAL_ESTOQUE_NTE: TIntegerField;
    qNCM: TSQLQuery;
    qNCMNCM: TStringField;
    qParametrosUSA_APROVACAO_OC_FORN: TStringField;
    qParametros_Geral: TSQLQuery;
    qParametros_GeralUSAR_PESSOA_FILIAL: TStringField;
    qParametros_Prod: TSQLQuery;
    qParametros_ProdUSA_PRODUTO_FILIAL: TStringField;
    sdsFornecedorFILIAL: TIntegerField;
    cdsFornecedorFILIAL: TIntegerField;
    sdsProdutoFILIAL: TIntegerField;
    cdsProdutoFILIAL: TIntegerField;
    qParametrosUSA_NFCE: TStringField;
    sdsProdutoID_CFOP_NFCE: TIntegerField;
    cdsProdutoID_CFOP_NFCE: TIntegerField;
    mItensNotaID_CFOP_NFCe: TIntegerField;
    mItensNotaCodCFOP_NFCe: TStringField;
    qParametros_RecXML: TSQLQuery;
    qParametros_RecXMLID: TIntegerField;
    qParametros_RecXMLPROCURAR_REM_NOME_PROD: TStringField;
    mItensNotaObs_Complementar: TStringField;
    qParametros_OC: TSQLQuery;
    qParametros_OCID: TIntegerField;
    qParametros_OCPERMITIR_ENT_MAIOR: TStringField;
    qParametros_NTE: TSQLQuery;
    qParametros_NTEID: TIntegerField;
    qParametros_NTESOMAR_IPI_NO_CUSTO: TStringField;
    qParametros_NTESOMAR_FRETE_NO_CUSTO: TStringField;
    qParametros_NTEATUALIZAR_CUSTO: TStringField;
    qParametros_ProdOPCAO_APLICAR_MARGEM: TStringField;
    sdsProdutoPRECO_CUSTO_TOTAL: TFloatField;
    cdsProdutoPRECO_CUSTO_TOTAL: TFloatField;
    sdsProdutoDT_ALT_PRECOCUSTO: TDateField;
    cdsProdutoDT_ALT_PRECOCUSTO: TDateField;
    mItensNotaAtualizarCustoTotal: TBooleanField;
    mItensNotaAtualizarPreco: TBooleanField;
    qParametros_ProdPERC_MARGEM_PRECO: TFloatField;
    mItensNotaPerc_Margem: TFloatField;
    mItensNotaID_Grupo: TIntegerField;
    mItensNotaNome_Grupo: TStringField;
    sdsProdutoID_GRUPO: TIntegerField;
    cdsProdutoID_GRUPO: TIntegerField;
    qParametros_GeralENDGRIDS: TStringField;
    qParametros_RecXMLATUALIZAR_NCM: TStringField;
    mItensNotaVlr_Venda: TFloatField;
    qParametros_RecXMLMOSTRAR_VLR_VENDA: TStringField;
    mItensNotaVlr_Custo_Prod: TFloatField;
    sdsProdutoUSA_PERC_IMP_INTERESTADUAL: TStringField;
    cdsProdutoUSA_PERC_IMP_INTERESTADUAL: TStringField;
    cdsCFOPTIPO_IND_VEN: TStringField;
    qParametros_NTESOMAR_ST_NO_CUSTO: TStringField;
    sdsProdutoREFERENCIA_SEQ: TIntegerField;
    cdsProdutoREFERENCIA_SEQ: TIntegerField;
    mItensNotaPerc_ISSQN: TFloatField;
    mItensNotaVlr_ISSQN: TFloatField;
    sdsNotaFiscal_ItensPERC_ISSQN: TFloatField;
    sdsNotaFiscal_ItensVLR_ISSQN: TFloatField;
    cdsNotaFiscal_ItensPERC_ISSQN: TFloatField;
    cdsNotaFiscal_ItensVLR_ISSQN: TFloatField;
    mItensNotaNumNota: TIntegerField;
    mItensNotaSerie: TStringField;
    mItensNotaNome_Cor: TStringField;
    cdsCabecalhoavulsa_dhEmi: TStringField;
    mItensNotaCEST: TStringField;
    qParametros_RecXMLATUALIZAR_CEST: TStringField;
    mItensNotaCEST_Interno: TStringField;
    sdsNCMCOD_CEST: TStringField;
    cdsNCMCOD_CEST: TStringField;
    qParametros_RecXMLUSA_DIRETORIO_COPIADO: TStringField;
    sdsNotaFiscal_ItensVLR_ICMS_FCP: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMS_UF_DEST: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMS_UF_REMET: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMS_FCP: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMS_UF_DEST: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMS_UF_REMET: TFloatField;
    sdsProdutoUSA_CLIQ: TStringField;
    cdsProdutoUSA_CLIQ: TStringField;
    mItensNotaGerar_CLiquido: TBooleanField;
    sdsProdutoPRECO_LIQ: TFloatField;
    cdsProdutoPRECO_LIQ: TFloatField;
    sdsFornecedorCONT_CUSTO_LIQ: TStringField;
    cdsFornecedorCONT_CUSTO_LIQ: TStringField;
    qParametros_ProdUSA_LOTE_PROD: TStringField;
    mItensNotaSUB_PISCOFINS_CUSTO: TStringField;
    mItensNotaSUB_ICMS_CUSTO: TStringField;
    qParametros_NTESUB_PISCOFINS_CUSTO: TStringField;
    qParametros_NTESUB_ICMS_CUSTO: TStringField;
    mItensNotaSOMAR_IPI_NO_CUSTO: TStringField;
    mItensNotaSOMAR_FRETE_NO_CUSTO: TStringField;
    mItensNotaSOMAR_ST_NO_CUSTO: TStringField;
    mItensNotaTipoVenda_Prod: TStringField;
    cdsCFOPALT_NCM_CUSTO: TStringField;
    qCFOPALT_NCM_CUSTO: TStringField;
    mItensNotaAtualizarNCM: TBooleanField;
    qParametros_GeralUSA_TRIANGULAR: TStringField;
    qParametros_Custo: TSQLQuery;
    qParametros_CustoID: TIntegerField;
    qParametros_CustoREV_SOMAR_IPI: TStringField;
    qParametros_CustoREV_SOMAR_FRETE: TStringField;
    qParametros_CustoREV_SOMAR_ST: TStringField;
    qParametros_CustoREV_SUB_ICMS: TStringField;
    qParametros_CustoREV_SUB_PISCOFINS: TStringField;
    qParametros_CustoIND_SOMAR_IPI: TStringField;
    qParametros_CustoIND_SOMAR_FRETE: TStringField;
    qParametros_CustoIND_SOMAR_ST: TStringField;
    qParametros_CustoIND_SUB_ICMS: TStringField;
    qParametros_CustoIND_SUB_PISCOFINS: TStringField;
    qParametros_CustoCON_SOMAR_IPI: TStringField;
    qParametros_CustoCON_SOMAR_ST: TStringField;
    qParametros_CustoCON_SOMAR_FRETE: TStringField;
    qParametros_CustoCON_SUB_ICMS: TStringField;
    qParametros_CustoCON_SUB_PISCOFINS: TStringField;
    qParametros_RecXMLUSA_OC_XML: TStringField;
    mItensNotaGravar_Adic_Prod: TStringField;
    qParametros_CustoCON_SUB_IPI: TStringField;
    qParametros_CustoIND_SUB_IPI: TStringField;
    qParametros_CustoREV_SUB_IPI: TStringField;
    mItensNotaSUB_IPI_Custo: TStringField;
    mItensNotaPreco_Custo_Total: TFloatField;
    sdsNotaFiscal_ItensPRECO_CUSTO_TOTAL: TFloatField;
    cdsNotaFiscal_ItensPRECO_CUSTO_TOTAL: TFloatField;
    qParametros_RecXMLPROCURAR_POR_CBARRA: TStringField;
    mItensNotaCodBarra2: TStringField;
    sdsNotaFiscal_ItensCOD_BARRA2: TStringField;
    cdsNotaFiscal_ItensCOD_BARRA2: TStringField;
    sdsProdutoCOD_BARRA2: TStringField;
    cdsProdutoCOD_BARRA2: TStringField;
    mItensNotaGerar_Estoque: TStringField;
    qParametros_RecXMLCONTROLAR_GRAVA_PROD: TStringField;
    sdsFornecedorASSOCIAR_PROD: TStringField;
    cdsFornecedorASSOCIAR_PROD: TStringField;
    qParametros_RecXMLUSA_REF_SEQUENCIAL: TStringField;
    mParc: TClientDataSet;
    mParcParcela: TIntegerField;
    mParcNumDuplicata: TStringField;
    mParcDtVencimento: TDateField;
    mParcVlrVencimento: TFloatField;
    mParcID_Conta: TIntegerField;
    mParcID_TipoCobranca: TIntegerField;
    dsmParc: TDataSource;
    mItensNotaID_ContaOrcamento: TIntegerField;
    mItensNotaID_CentroCusto: TIntegerField;
    mItensNotaNome_ContaOrcamento: TStringField;
    mItensNotaPosse_Material: TStringField;
    qParametrosUSA_GRADE: TStringField;
    sdsNotaFiscal_ItensPERC_MVA: TFloatField;
    sdsNotaFiscal_ItensPERC_ICMS_DESON: TFloatField;
    sdsNotaFiscal_ItensBASE_ICMSSUBST_RET: TFloatField;
    cdsNotaFiscal_ItensPERC_MVA: TFloatField;
    cdsNotaFiscal_ItensPERC_ICMS_DESON: TFloatField;
    cdsNotaFiscal_ItensBASE_ICMSSUBST_RET: TFloatField;
    sdsNotaFiscal_ItensBASE_IPI: TFloatField;
    cdsNotaFiscal_ItensBASE_IPI: TFloatField;
    cdsNotaFiscal_ItensPERC_BASE_ICMS_RED: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMSSUBST_RET: TFloatField;
    cdsNotaFiscal_ItensPERC_ICMS_RED: TFloatField;
    cdsNotaFiscal_ItensPERC_BASE_ICMSSUBT_RED: TFloatField;
    cdsNotaFiscal_ItensPERC_ICMSSUBST_INTERNO: TFloatField;
    cdsNotaFiscal_ItensPERC_REDUCAO_ICMSSUBST: TFloatField;
    cdsCFOPMARCAR_NCM_ST: TStringField;
    mItensNotaPerc_Devol: TFloatField;
    mItensNotaVlr_IPI_Devol: TFloatField;
    mItensNotaPerc_Base_Red_Efet: TFloatField;
    mItensNotaVlr_Base_Efet: TFloatField;
    mItensNotaPerc_ICMS_Efet: TFloatField;
    mItensNotaVlr_ICMS_Efet: TFloatField;
    sdsNotaFiscal_ItensVLR_IPI_DEVOL: TFloatField;
    sdsNotaFiscal_ItensPERC_DEVOL: TFloatField;
    sdsNotaFiscal_ItensPERC_BASE_ICMS_RED: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMSSUBST_RET: TFloatField;
    sdsNotaFiscal_ItensPERC_ICMS_RED: TFloatField;
    sdsNotaFiscal_ItensPERC_BASE_ICMSSUBT_RED: TFloatField;
    sdsNotaFiscal_ItensPERC_BASE_RED_EFET: TFloatField;
    sdsNotaFiscal_ItensVLR_BASE_EFET: TFloatField;
    sdsNotaFiscal_ItensPERC_ICMS_EFET: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMS_EFET: TFloatField;
    cdsNotaFiscal_ItensVLR_IPI_DEVOL: TFloatField;
    cdsNotaFiscal_ItensPERC_DEVOL: TFloatField;
    cdsNotaFiscal_ItensPERC_BASE_RED_EFET: TFloatField;
    cdsNotaFiscal_ItensVLR_BASE_EFET: TFloatField;
    cdsNotaFiscal_ItensPERC_ICMS_EFET: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMS_EFET: TFloatField;
    cdsFilialUSA_ENVIO_ST_RET: TStringField;
    sdsNotaFiscal_ItensPERC_REDUCAO_ICMSSUBST: TFloatField;
    sdsNotaFiscal_ItensPERC_ICMSSUBST_INTERNO: TFloatField;
    qCFOPGERAR_ESTOQUE: TStringField;
    mItensNotaItem_NTE: TIntegerField;
    mItensNotaID_NTE: TIntegerField;
    mItensNotaNum_Nota_NTE: TIntegerField;
    sdsNotaFiscal_NDevolvida: TSQLDataSet;
    sdsNotaFiscal_NDevolvidaID: TIntegerField;
    sdsNotaFiscal_NDevolvidaITEM: TIntegerField;
    sdsNotaFiscal_NDevolvidaITEM_NDEV: TIntegerField;
    sdsNotaFiscal_NDevolvidaID_FORNECEDOR: TIntegerField;
    sdsNotaFiscal_NDevolvidaFILIAL_NTE: TIntegerField;
    sdsNotaFiscal_NDevolvidaID_NTE: TIntegerField;
    sdsNotaFiscal_NDevolvidaITEM_NTE: TIntegerField;
    sdsNotaFiscal_NDevolvidaQTD: TFloatField;
    sdsNotaFiscal_NDevolvidaNFECHAVEACESSO_NTE: TStringField;
    sdsNotaFiscal_NDevolvidaNUMNOTA_ENTRADA: TIntegerField;
    sdsNotaFiscal_NDevolvidaSERIE_ENTRADA: TStringField;
    sdsNotaFiscal_NDevolvidaMODELO: TStringField;
    sdsNotaFiscal_NDevolvidaDTEMISSAO_NTE: TDateField;
    sdsNotaFiscal_NDevolvidaTIPO_NOTA: TStringField;
    cdsNotaFiscal_NDevolvida: TClientDataSet;
    cdsNotaFiscal_NDevolvidaID: TIntegerField;
    cdsNotaFiscal_NDevolvidaITEM: TIntegerField;
    cdsNotaFiscal_NDevolvidaITEM_NDEV: TIntegerField;
    cdsNotaFiscal_NDevolvidaID_FORNECEDOR: TIntegerField;
    cdsNotaFiscal_NDevolvidaFILIAL_NTE: TIntegerField;
    cdsNotaFiscal_NDevolvidaID_NTE: TIntegerField;
    cdsNotaFiscal_NDevolvidaITEM_NTE: TIntegerField;
    cdsNotaFiscal_NDevolvidaQTD: TFloatField;
    cdsNotaFiscal_NDevolvidaNFECHAVEACESSO_NTE: TStringField;
    cdsNotaFiscal_NDevolvidaNUMNOTA_ENTRADA: TIntegerField;
    cdsNotaFiscal_NDevolvidaSERIE_ENTRADA: TStringField;
    cdsNotaFiscal_NDevolvidaMODELO: TStringField;
    cdsNotaFiscal_NDevolvidaDTEMISSAO_NTE: TDateField;
    cdsNotaFiscal_NDevolvidaTIPO_NOTA: TStringField;
    dsNotaFiscal_NDevolvida: TDataSource;
    dsNotaFiscal_Itens_Mestre: TDataSource;
    cdsNotaFiscal_ItenssdsNotaFiscal_NDevolvida: TDataSetField;
    sdsNotaFiscal_ItensBASE_ICMS_FCP: TFloatField;
    sdsNotaFiscal_ItensBASE_FCP_ST: TFloatField;
    sdsNotaFiscal_ItensVLR_FCP_ST: TFloatField;
    sdsNotaFiscal_ItensPERC_FCP_ST: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMS_FCP_DEST: TFloatField;
    sdsNotaFiscal_ItensBASE_ICMS_FCP_DEST: TFloatField;
    cdsNotaFiscal_ItensBASE_ICMS_FCP: TFloatField;
    cdsNotaFiscal_ItensBASE_FCP_ST: TFloatField;
    cdsNotaFiscal_ItensVLR_FCP_ST: TFloatField;
    cdsNotaFiscal_ItensPERC_FCP_ST: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMS_FCP_DEST: TFloatField;
    cdsNotaFiscal_ItensBASE_ICMS_FCP_DEST: TFloatField;
    mItensNotaSped_Tipo: TStringField;
    sdsProdutoSPED_TIPO_ITEM: TStringField;
    cdsProdutoSPED_TIPO_ITEM: TStringField;
    cdsPag: TClientDataSet;
    qParametros_Lote: TSQLQuery;
    qParametros_LoteOPCAO_ESTOQUE_SEMI: TStringField;
    qParametros_LoteLOTE_TEXTIL: TStringField;
    qParametrosEMPRESA_SUCATA: TStringField;
    mItensNotaPossuiRateio: TBooleanField;
    sdsNotaFiscal_ItensLARGURA: TFloatField;
    sdsNotaFiscal_ItensCOMPRIMENTO: TFloatField;
    sdsNotaFiscal_ItensESPESSURA: TFloatField;
    cdsNotaFiscal_ItensLARGURA: TFloatField;
    cdsNotaFiscal_ItensCOMPRIMENTO: TFloatField;
    cdsNotaFiscal_ItensESPESSURA: TFloatField;
    sdsNotaFiscalVLR_ICMSSUBST_PROPRIO: TFloatField;
    sdsNotaFiscalBASE_ICMSSUBST_PROPRIO: TFloatField;
    sdsNotaFiscalVLR_ICMS_UF_DEST: TFloatField;
    sdsNotaFiscalVLR_ICMS_UF_REMET: TFloatField;
    sdsNotaFiscalBASE_ICMS_FCP: TFloatField;
    sdsNotaFiscalBASE_FCP_ST: TFloatField;
    sdsNotaFiscalVLR_FCP_ST: TFloatField;
    sdsNotaFiscalPERC_FCP_ST: TFloatField;
    sdsNotaFiscalVLR_ICMS_FCP_DEST: TFloatField;
    sdsNotaFiscalBASE_ICMS_FCP_DEST: TFloatField;
    sdsNotaFiscalSOMAR_FRETE_II: TStringField;
    sdsNotaFiscalVLR_IPI_DEVOL: TFloatField;
    sdsNotaFiscalBASE_IPI: TFloatField;
    sdsNotaFiscalVLR_BASE_EFET: TFloatField;
    sdsNotaFiscalVLR_ICMS_EFET: TFloatField;
    sdsNotaFiscalBASE_ICMSSUBST_RET: TFloatField;
    sdsNotaFiscalVLR_ICMSSUBST_RET: TFloatField;
    cdsNotaFiscalVLR_ICMSSUBST_PROPRIO: TFloatField;
    cdsNotaFiscalBASE_ICMSSUBST_PROPRIO: TFloatField;
    cdsNotaFiscalVLR_ICMS_UF_DEST: TFloatField;
    cdsNotaFiscalVLR_ICMS_UF_REMET: TFloatField;
    cdsNotaFiscalBASE_ICMS_FCP: TFloatField;
    cdsNotaFiscalBASE_FCP_ST: TFloatField;
    cdsNotaFiscalVLR_FCP_ST: TFloatField;
    cdsNotaFiscalPERC_FCP_ST: TFloatField;
    cdsNotaFiscalVLR_ICMS_FCP_DEST: TFloatField;
    cdsNotaFiscalBASE_ICMS_FCP_DEST: TFloatField;
    cdsNotaFiscalSOMAR_FRETE_II: TStringField;
    cdsNotaFiscalVLR_IPI_DEVOL: TFloatField;
    cdsNotaFiscalBASE_IPI: TFloatField;
    cdsNotaFiscalVLR_BASE_EFET: TFloatField;
    cdsNotaFiscalVLR_ICMS_EFET: TFloatField;
    cdsNotaFiscalBASE_ICMSSUBST_RET: TFloatField;
    cdsNotaFiscalVLR_ICMSSUBST_RET: TFloatField;
    mItensNotaCodCFOPAtual: TStringField;
    mItensNotaCodCFOPNCM: TStringField;
    mItensNotaCopiar_CFOP_Prod: TStringField;
    sdsNCMID_CFOP: TIntegerField;
    cdsNCMID_CFOP: TIntegerField;
    mItensNotaID_CFOPNCM: TIntegerField;
    mItensNotaID_CFOPAtual: TIntegerField;
    qParametros_RecXMLPROCURAR_CBARRA_SEM_FORN: TStringField;
    cdsTab_CSTICMSTIPO_ICMS: TStringField;
    qCFOPDEPARA_COM_CST: TStringField;
    qParametros_RecXMLUSA_CONTROLE_PRODUTO: TStringField;
    mItensNotaVlr_Icms_Substituto: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMS_SUBSTITUTO: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMS_SUBSTITUTO: TFloatField;
    mItensNotaBase_Pis: TFloatField;
    mItensNotaBase_Cofins: TFloatField;
    sdsNotaFiscalBASE_PIS: TFloatField;
    sdsNotaFiscalBASE_COFINS: TFloatField;
    cdsNotaFiscalBASE_PIS: TFloatField;
    cdsNotaFiscalBASE_COFINS: TFloatField;
    sdsNotaFiscal_ItensBASE_PIS: TFloatField;
    sdsNotaFiscal_ItensBASE_COFINS: TFloatField;
    cdsNotaFiscal_ItensBASE_PIS: TFloatField;
    cdsNotaFiscal_ItensBASE_COFINS: TFloatField;
    sdsNotaFiscal_ItensANP_PRODUTO: TStringField;
    sdsNotaFiscal_ItensANP_UF_CONS: TStringField;
    cdsNotaFiscal_ItensANP_PRODUTO: TStringField;
    cdsNotaFiscal_ItensANP_UF_CONS: TStringField;
    mItensNotaANP_PRODUTO: TStringField;
    mItensNotaANP_UF_CONS: TStringField;
    mItensNotaANP_DESCRICAO: TStringField;
    cdsDetalheCEST: TStringField;
    cdsDetalheICMS60_vBCSTRet: TStringField;
    cdsDetalheICMS60_pST: TStringField;
    cdsDetalheICMS60_vICMSSubstituto: TStringField;
    cdsDetalheICMS60_vICMSSTRet: TStringField;
    cdsDetalheICMS60_vBCFCPSTRet: TStringField;
    cdsDetalheICMS60_pFCPSTRet: TStringField;
    cdsDetalheICMS60_vFCPSTRet: TStringField;
    cdsDetalheICMS60_pRedBCEfet: TStringField;
    cdsDetalheICMS60_vBCEfet: TStringField;
    cdsDetalheICMS60_pICMSEfet: TStringField;
    cdsDetalheICMS60_vICMSEfet: TStringField;
    cdsDetalheICMSST_vICMSSubstituto: TFloatField;
    cdsDetalheICMSSN500_vICMSSubstituto: TFloatField;
    cdsDetalheclEnq: TStringField;
    cdsDetalheCNPJProd: TStringField;
    cdsDetalhecSelo: TStringField;
    cdsDetalheqSelo: TIntegerField;
    cdsDetalhecEnq: TStringField;
    cdsDetalheIPITrib_CST: TIntegerField;
    cdsDetalheIPITrib_vBC: TFloatField;
    cdsDetalhepIPI: TFloatField;
    cdsDetalheqUnid: TFloatField;
    cdsDetalhevUnid: TFloatField;
    cdsDetalhevIPI: TFloatField;
    cdsDetalheIPINT_CST: TIntegerField;
    cdsDetalheII_vBC: TFloatField;
    cdsDetalhevDespAdu: TFloatField;
    cdsDetalhevII: TFloatField;
    cdsDetalhevIOF: TFloatField;
    cdsDetalheISSQN_vBC: TFloatField;
    cdsDetalhevAliq: TFloatField;
    cdsDetalhevISSQN: TFloatField;
    cdsDetalhecMunFG: TIntegerField;
    cdsDetalhecListServ: TIntegerField;
    cdsDetalhecSitTrib: TStringField;
    cdsDetalhePISAliq_CST: TIntegerField;
    cdsDetalhePISAliq_vBC: TFloatField;
    cdsDetalhePISAliq_pPIS: TFloatField;
    cdsDetalhePISAliq_vPIS: TFloatField;
    cdsDetalhePISQtde_CST: TIntegerField;
    cdsDetalhePISQtde_qBCProd: TFloatField;
    cdsDetalhePISQtde_vAliqProd: TFloatField;
    cdsDetalhePISQtde_vPIS: TFloatField;
    cdsDetalhePISNT_CST: TIntegerField;
    cdsDetalhePISOutr_CST: TIntegerField;
    cdsDetalhePISOutr_vBC: TFloatField;
    cdsDetalhePISOutr_pPIS: TFloatField;
    cdsDetalhePISOutr_qBCProd: TFloatField;
    cdsDetalhePISOutr_vAliqProd: TFloatField;
    cdsDetalhePISOutr_vPIS: TFloatField;
    cdsDetalhePISST_vBC: TFloatField;
    cdsDetalhepPIS: TFloatField;
    cdsDetalhePISST_qBCProd: TFloatField;
    cdsDetalhePISST_vAliqProd: TFloatField;
    cdsDetalhevPIS: TFloatField;
    cdsDetalheCOFINSAliq_CST: TIntegerField;
    cdsDetalheCOFINSAliq_vBC: TFloatField;
    cdsDetalheCOFINSAliq_pCOFINS: TFloatField;
    cdsDetalheCOFINSAliq_vCOFINS: TFloatField;
    cdsDetalheCOFINSQtde_CST: TIntegerField;
    cdsDetalheCOFINSQtde_qBCProd: TFloatField;
    cdsDetalheCOFINSQtde_vAliqProd: TFloatField;
    cdsDetalheCOFINSQtde_vCOFINS: TFloatField;
    cdsDetalheCOFINSNT_CST: TIntegerField;
    cdsDetalheCOFINSOutr_CST: TIntegerField;
    cdsDetalheCOFINSOutr_vBC: TFloatField;
    cdsDetalheCOFINSOutr_pCOFINS: TFloatField;
    cdsDetalheCOFINSOutr_qBCProd: TFloatField;
    cdsDetalheCOFINSOutr_vAliqProd: TFloatField;
    cdsDetalheCOFINSOutr_vCOFINS: TFloatField;
    cdsDetalheCOFINSST_vBC: TFloatField;
    cdsDetalhepCOFINS: TFloatField;
    cdsDetalheCOFINSST_qBCProd: TFloatField;
    cdsDetalheCOFINSST_vAliqProd: TFloatField;
    cdsDetalhevCOFINS: TFloatField;
    cdsDetalheinfAdProd: TStringField;
    cdsDetalheDI: TDataSetField;
    cdsDetalhedescANP: TStringField;
    sdsNotaFiscal_ItensANP_PERC_PGNI: TFloatField;
    sdsNotaFiscal_ItensANP_PERC_PGNN: TFloatField;
    sdsNotaFiscal_ItensANP_ID: TIntegerField;
    cdsNotaFiscal_ItensANP_PERC_PGNI: TFloatField;
    cdsNotaFiscal_ItensANP_PERC_PGNN: TFloatField;
    cdsNotaFiscal_ItensANP_ID: TIntegerField;
    sdsProdutoANP_ID: TIntegerField;
    cdsProdutoANP_ID: TIntegerField;
    mItensNotaANP_PERC_PGNI: TFloatField;
    mItensNotaANP_PERC_PGNN: TFloatField;
    mItensNotaANP_ID: TIntegerField;
    qParametrosUSA_CONTA_ORCAMENTO: TStringField;
    qParametros_NTEUSA_CONTA_ORCAMENTO_ITENS: TStringField;
    qParametros_NTEUSA_CENTRO_CUSTO: TStringField;
    sdsNotaFiscalID_CONTA_ORCAMENTO: TIntegerField;
    cdsNotaFiscalID_CONTA_ORCAMENTO: TIntegerField;
    mItensNotaNome_CentroCusto: TStringField;
    qParametros_RecXMLAVISAR_PRODUTO_NOVO: TStringField;
    cdsCFOPALT_CUSTO: TStringField;
    mItensNotaVlr_Venda_Atual: TFloatField;
    mItensNotaVlrUnitario_Conversao: TFloatField;
    cdsNotasXML: TClientDataSet;
    dsNotaXML: TDataSource;
    cdsNotasXMLIEST: TStringField;
    cdsNotasXMLversao: TStringField;
    cdsNotasXMLinfNFe_Id: TStringField;
    cdsNotasXMLcUF: TIntegerField;
    cdsNotasXMLcNF: TIntegerField;
    cdsNotasXMLnatOp: TStringField;
    cdsNotasXMLindPag: TIntegerField;
    cdsNotasXMLmod: TStringField;
    cdsNotasXMLserie: TIntegerField;
    cdsNotasXMLnNF: TIntegerField;
    cdsNotasXMLide_dEmi: TDateField;
    cdsNotasXMLide_dhEmi: TStringField;
    cdsNotasXMLdSaiEnt: TDateField;
    cdsNotasXMLhSaiEnt: TStringField;
    cdsNotasXMLtpNF: TIntegerField;
    cdsNotasXMLcMunFG1: TIntegerField;
    cdsNotasXMLtpImp: TIntegerField;
    cdsNotasXMLtpEmis: TIntegerField;
    cdsNotasXMLcDV: TIntegerField;
    cdsNotasXMLtpAmb: TStringField;
    cdsNotasXMLfinNFe: TIntegerField;
    cdsNotasXMLprocEmi: TIntegerField;
    cdsNotasXMLverProc: TStringField;
    cdsNotasXMLdhCont: TDateField;
    cdsNotasXMLxJust: TStringField;
    cdsNotasXMLemit_CNPJ: TStringField;
    cdsNotasXMLemit_CPF: TStringField;
    cdsNotasXMLemit_xNome: TStringField;
    cdsNotasXMLxFant: TStringField;
    cdsNotasXMLenderEmit_xLgr: TStringField;
    cdsNotasXMLenderEmit_nro: TStringField;
    cdsNotasXMLenderEmit_xCpl: TStringField;
    cdsNotasXMLenderEmit_xBairro: TStringField;
    cdsNotasXMLenderEmit_cMun: TIntegerField;
    cdsNotasXMLenderEmit_xMun: TStringField;
    cdsNotasXMLenderEmit_UF: TStringField;
    cdsNotasXMLenderEmit_CEP: TIntegerField;
    cdsNotasXMLenderEmit_cPais: TIntegerField;
    cdsNotasXMLenderEmit_xPais: TStringField;
    cdsNotasXMLenderEmit_fone: TStringField;
    cdsNotasXMLemit_IE: TStringField;
    cdsNotasXMLIM: TStringField;
    cdsNotasXMLCNAE: TStringField;
    cdsNotasXMLCRT: TIntegerField;
    cdsNotasXMLavulsa_CNPJ: TStringField;
    cdsNotasXMLxOrgao: TStringField;
    cdsNotasXMLmatr: TStringField;
    cdsNotasXMLxAgente: TStringField;
    cdsNotasXMLfone: TStringField;
    cdsNotasXMLavulsa_UF: TStringField;
    cdsNotasXMLnDAR: TStringField;
    cdsNotasXMLavulsa_dEmi: TDateField;
    cdsNotasXMLavulsa_dhEmi: TStringField;
    cdsNotasXMLvDAR: TFloatField;
    cdsNotasXMLrepEmi: TStringField;
    cdsNotasXMLdPag: TDateField;
    cdsNotasXMLdest_CNPJ: TStringField;
    cdsNotasXMLdest_CPF: TStringField;
    cdsNotasXMLdest_xNome: TStringField;
    cdsNotasXMLenderDest_xLgr: TStringField;
    cdsNotasXMLenderDest_nro: TStringField;
    cdsNotasXMLenderDest_xCpl: TStringField;
    cdsNotasXMLenderDest_xBairro: TStringField;
    cdsNotasXMLenderDest_cMun: TIntegerField;
    cdsNotasXMLenderDest_xMun: TStringField;
    cdsNotasXMLenderDest_UF: TStringField;
    cdsNotasXMLenderDest_CEP: TIntegerField;
    cdsNotasXMLenderDest_cPais: TIntegerField;
    cdsNotasXMLenderDest_xPais: TStringField;
    cdsNotasXMLenderDest_fone: TStringField;
    cdsNotasXMLdest_IE: TStringField;
    cdsNotasXMLISUF: TStringField;
    cdsNotasXMLemail: TStringField;
    cdsNotasXMLretirada_CNPJ: TStringField;
    cdsNotasXMLretirada_CPF: TStringField;
    cdsNotasXMLretirada_xLgr: TStringField;
    cdsNotasXMLretirada_nro: TStringField;
    cdsNotasXMLretirada_xCpl: TStringField;
    cdsNotasXMLretirada_xBairro: TStringField;
    cdsNotasXMLretirada_cMun: TIntegerField;
    cdsNotasXMLretirada_xMun: TStringField;
    cdsNotasXMLretirada_UF: TStringField;
    cdsNotasXMLentrega_CNPJ: TStringField;
    cdsNotasXMLentrega_CPF: TStringField;
    cdsNotasXMLentrega_xLgr: TStringField;
    cdsNotasXMLentrega_nro: TStringField;
    cdsNotasXMLentrega_xCpl: TStringField;
    cdsNotasXMLentrega_xBairro: TStringField;
    cdsNotasXMLentrega_cMun: TIntegerField;
    cdsNotasXMLentrega_xMun: TStringField;
    cdsNotasXMLentrega_UF: TStringField;
    cdsNotasXMLICMSTot_vBC: TFloatField;
    cdsNotasXMLvICMS: TFloatField;
    cdsNotasXMLvBCST: TFloatField;
    cdsNotasXMLvST: TFloatField;
    cdsNotasXMLvProd: TFloatField;
    cdsNotasXMLvFrete: TFloatField;
    cdsNotasXMLvSeg: TFloatField;
    cdsNotasXMLICMSTot_vDesc: TFloatField;
    cdsNotasXMLvII: TFloatField;
    cdsNotasXMLvIPI: TFloatField;
    cdsNotasXMLICMSTot_vPIS: TFloatField;
    cdsNotasXMLICMSTot_vCOFINS: TFloatField;
    cdsNotasXMLvOutro: TFloatField;
    cdsNotasXMLvNF: TFloatField;
    cdsNotasXMLISSQNtot_vServ: TFloatField;
    cdsNotasXMLISSQNtot_vBC: TFloatField;
    cdsNotasXMLvISS: TFloatField;
    cdsNotasXMLISSQNtot_vPIS: TFloatField;
    cdsNotasXMLISSQNtot_vCOFINS: TFloatField;
    cdsNotasXMLvRetPIS: TFloatField;
    cdsNotasXMLvRetCOFINS: TFloatField;
    cdsNotasXMLvRetCSLL: TFloatField;
    cdsNotasXMLvBCIRRF: TFloatField;
    cdsNotasXMLvIRRF: TFloatField;
    cdsNotasXMLvBCRetPrev: TFloatField;
    cdsNotasXMLvRetPrev: TFloatField;
    cdsNotasXMLmodFrete: TIntegerField;
    cdsNotasXMLCNPJ: TStringField;
    cdsNotasXMLCPF: TStringField;
    cdsNotasXMLxNome: TStringField;
    cdsNotasXMLIE: TStringField;
    cdsNotasXMLxEnder: TStringField;
    cdsNotasXMLtransporta_xMun: TStringField;
    cdsNotasXMLtransporta_UF: TStringField;
    cdsNotasXMLretTransp_vServ: TFloatField;
    cdsNotasXMLvBCRet: TFloatField;
    cdsNotasXMLpICMSRet: TFloatField;
    cdsNotasXMLvICMSRet: TFloatField;
    cdsNotasXMLCFOP: TIntegerField;
    cdsNotasXMLcMunFG2: TIntegerField;
    cdsNotasXMLveicTransp_placa: TStringField;
    cdsNotasXMLveicTransp_UF: TStringField;
    cdsNotasXMLveicTransp_RNTC: TStringField;
    cdsNotasXMLreboque_placa: TStringField;
    cdsNotasXMLreboque_UF: TStringField;
    cdsNotasXMLreboque_RNTC: TStringField;
    cdsNotasXMLvagao: TStringField;
    cdsNotasXMLbalsa: TStringField;
    cdsNotasXMLnFat: TStringField;
    cdsNotasXMLvOrig: TFloatField;
    cdsNotasXMLfat_vDesc: TFloatField;
    cdsNotasXMLvLiq: TFloatField;
    cdsNotasXMLinfAdFisco: TStringField;
    cdsNotasXMLinfCpl: TStringField;
    cdsNotasXMLobsCont_xCampo: TStringField;
    cdsNotasXMLobsCont_xTexto: TStringField;
    cdsNotasXMLobsFisco_xCampo: TStringField;
    cdsNotasXMLobsFisco_xTexto: TStringField;
    cdsNotasXMLUFEmbarq: TStringField;
    cdsNotasXMLxLocEmbarq: TStringField;
    cdsNotasXMLxNEmp: TStringField;
    cdsNotasXMLxPed: TStringField;
    cdsNotasXMLxCont: TStringField;
    cdsNotasXMLSignature_Id: TStringField;
    cdsNotasXMLSignedInfo_Id: TStringField;
    cdsNotasXMLAlgorithm1: TStringField;
    cdsNotasXMLSignatureMethod_Algorithm: TStringField;
    cdsNotasXMLId: TStringField;
    cdsNotasXMLURI: TStringField;
    cdsNotasXMLType: TStringField;
    cdsNotasXMLAlgorithm2: TStringField;
    cdsNotasXMLXPath: TStringField;
    cdsNotasXMLAlgorithm3: TStringField;
    cdsNotasXMLDigestValue: TStringField;
    cdsNotasXMLSignatureValue_Id: TStringField;
    cdsNotasXMLKeyInfo_Id: TStringField;
    cdsNotasXMLX509Certificate: TStringField;
    cdsNotasXMLNFref: TDataSetField;
    cdsNotasXMLdet: TDataSetField;
    cdsNotasXMLvol: TDataSetField;
    cdsNotasXMLdup: TDataSetField;
    cdsNotasXMLprocRef: TDataSetField;
    cdsNotasXMLprotNFe: TDataSetField;
    mItensNotaPreco_Custo_Ant: TFloatField;
    sdsNotaFiscalVLR_SALDO_USADO: TFloatField;
    cdsNotaFiscalVLR_SALDO_USADO: TFloatField;
    sdsNotaFiscalID_CONTA: TIntegerField;
    cdsNotaFiscalID_CONTA: TIntegerField;
    mItensNotaCodCor_Forn: TStringField;
    mItensNotaMarca: TStringField;
    qParametrosMOSTRAR_MARCAR_PROD: TStringField;
    mItensNotaID_MARCA: TIntegerField;
    mItensNotaID_SERVICO_INT: TIntegerField;
    mItensNotaNOME_SERVICO_INT: TStringField;
    sdsProdutoID_MARCA: TIntegerField;
    cdsProdutoID_MARCA: TIntegerField;
    mItensNotaNomeProduto_Int: TStringField;
    mItensNotaPerc_Diferido: TFloatField;
    sdsNotaFiscal_ItensPERC_DIFERIMENTO: TFloatField;
    sdsNotaFiscal_ItensVLR_ICMSDIFERIDO: TFloatField;
    sdsNotaFiscal_ItensDIFERENCA_ICMS: TStringField;
    sdsNotaFiscal_ItensPERC_ICMS_FCP: TFloatField;
    sdsNotaFiscal_ItensPERC_ICMS_UF_DEST: TFloatField;
    sdsNotaFiscal_ItensPERC_ICMS_PARTILHA: TFloatField;
    sdsNotaFiscal_ItensPERC_ICMS_INTER: TFloatField;
    sdsNotaFiscal_ItensQTD_TRIB: TFloatField;
    sdsNotaFiscal_ItensVLR_UNITARIO_TRIB: TFloatField;
    sdsNotaFiscal_ItensUNIDADE_TRIB: TStringField;
    sdsNotaFiscal_ItensCOD_CBENEF: TStringField;
    sdsNotaFiscal_ItensANP_PERC_PGLP: TFloatField;
    sdsNotaFiscal_ItensANP_VLR_VPART: TFloatField;
    sdsNotaFiscal_ItensPRECO_CUSTO: TFloatField;
    cdsNotaFiscal_ItensPERC_DIFERIMENTO: TFloatField;
    cdsNotaFiscal_ItensVLR_ICMSDIFERIDO: TFloatField;
    cdsNotaFiscal_ItensDIFERENCA_ICMS: TStringField;
    cdsNotaFiscal_ItensPERC_ICMS_FCP: TFloatField;
    cdsNotaFiscal_ItensPERC_ICMS_UF_DEST: TFloatField;
    cdsNotaFiscal_ItensPERC_ICMS_PARTILHA: TFloatField;
    cdsNotaFiscal_ItensPERC_ICMS_INTER: TFloatField;
    cdsNotaFiscal_ItensQTD_TRIB: TFloatField;
    cdsNotaFiscal_ItensVLR_UNITARIO_TRIB: TFloatField;
    cdsNotaFiscal_ItensUNIDADE_TRIB: TStringField;
    cdsNotaFiscal_ItensCOD_CBENEF: TStringField;
    cdsNotaFiscal_ItensANP_PERC_PGLP: TFloatField;
    cdsNotaFiscal_ItensANP_VLR_VPART: TFloatField;
    cdsNotaFiscal_ItensPRECO_CUSTO: TFloatField;
    cdsDetalheICMS51_vICMSOp: TFloatField;
    cdsDetalheICMS51_pDif: TFloatField;
    sdsProdutoRMS: TStringField;
    cdsProdutoRMS: TStringField;
    mItensNotaRegMS: TStringField;
    mItensNotaID_CFOP_Ped: TIntegerField;
    mItensNotaCodCFOP_Ped: TStringField;
    mItensNotaCodProduto_Ped: TIntegerField;
    qParametros_RecXMLCOR_NA_FONTE: TStringField;
    mItensNotaPreco_Custo_Manual: TFloatField;
    qParametros_RecXMLUSAR_PRECO_CUSTO: TStringField;
    sdsNotaFiscal_ItensCENTRO_CUSTO_ID: TIntegerField;
    cdsNotaFiscal_ItensCENTRO_CUSTO_ID: TIntegerField;
    mItensNotaDtValidade: TDateField;
    sdsNotaFiscal_ItensDTVALIDADE: TDateField;
    cdsNotaFiscal_ItensDTVALIDADE: TDateField;
    sdsNotaFiscal_ItensID_TIPO_MATERIAL: TIntegerField;
    cdsNotaFiscal_ItensID_TIPO_MATERIAL: TIntegerField;
    mItensNotaID_Tipo_Material: TIntegerField;
    mItensNotaNome_Tipo_Material: TStringField;
    sdsProdutoID_TIPO_MATERIAL: TIntegerField;
    cdsProdutoID_TIPO_MATERIAL: TIntegerField;
    qCFOPGERAR_PEDIDO: TStringField;
    qParametros_RecXMLUSA_GERA_PEDIDO: TStringField;
    qParametros_RecXMLGRAVAR_ADIC_PROD: TStringField;
    qParametros_RecXMLCRIA_PRODUTO_NOVO_PED: TStringField;
    qParametrosUSA_PRODUTO_CLIENTE: TStringField;
    sdsProdutoID_CLIENTE: TIntegerField;
    cdsProdutoID_CLIENTE: TIntegerField;
    qCFOPENTRAR_COMO_CLIENTE: TStringField;
    sdsFornecedorDIMINUIR_RETENCAO: TStringField;
    cdsFornecedorDIMINUIR_RETENCAO: TStringField;
    qParametros_RecXMLUSA_NOME_NOTA: TStringField;
    mItensNotaNomeProduto_Pedido: TStringField;
    mItensNotaVlr_Pedido_Total: TFloatField;
    mItensNotaVlr_Pedido_Unitario: TFloatField;
    mItensNotaQtd_Pedido: TFloatField;
    mItensNotaUnidade_Pedido: TStringField;
    sdsProdutoID_SERVICO_INT: TIntegerField;
    cdsProdutoID_SERVICO_INT: TIntegerField;
    mItensNotaNum_OS: TStringField;
    mItensNotaPedido_Cliente: TStringField;
    mItensNotaOBS_Pedido: TStringField;
    mItensNotaOBS_Pedido_NFe: TStringField;
    mItensNotaItem_Cliente: TIntegerField;
    qParametros_ProdCOD_NAFRENTE_NOME: TStringField;
    sdsFornecedorCOD_CLIENTE_PROD: TIntegerField;
    cdsFornecedorCOD_CLIENTE_PROD: TIntegerField;
    mParcAdiantamento: TStringField;
    sdsProdutoNOME2: TStringField;
    cdsProdutoNOME2: TStringField;
    sdsNotaFiscalCONFERIDO: TStringField;
    cdsNotaFiscalCONFERIDO: TStringField;
    qParametros_NTECONFERIR_NOTA: TStringField;
    sdsNotaFiscalUSUARIO: TStringField;
    cdsNotaFiscalUSUARIO: TStringField;
    mItensNota_Orig: TClientDataSet;
    mItensNota_OrigItem: TIntegerField;
    mItensNota_OrigPERC_ICMS: TFloatField;
    mItensNota_OrigPERC_IPI: TFloatField;
    mItensNota_OrigPERC_PIS: TFloatField;
    mItensNota_OrigPERC_COFINS: TFloatField;
    mItensNota_OrigCOD_CFOP: TIntegerField;
    mItensNota_OrigNCM: TStringField;
    mItensNota_OrigPERC_ICMSSUBST: TFloatField;
    mItensNota_OrigVLR_ICMS: TFloatField;
    mItensNota_OrigVLR_IPI: TFloatField;
    mItensNota_OrigVLR_PIS: TFloatField;
    mItensNota_OrigVLR_COFINS: TFloatField;
    mItensNota_OrigBASE_PIS: TFloatField;
    mItensNota_OrigBASE_COFINS: TFloatField;
    mItensNota_OrigBASE_ICMS: TFloatField;
    mItensNota_OrigBASE_IPI: TFloatField;
    mItensNota_OrigBASE_ICMSSUBST: TFloatField;
    mItensNota_OrigORIGEM: TIntegerField;
    mItensNota_OrigVLR_ICMSDESNOERADO: TFloatField;
    mItensNota_OrigVLR_ICMSDIFERIDO: TFloatField;
    mItensNota_OrigNOME: TStringField;
    mItensNota_OrigFINALIDADE: TStringField;
    mItensNota_OrigCOD_PRODUTO: TStringField;
    mItensNota_OrigVLR_FRETE: TFloatField;
    dsmItensNota_Orig: TDataSource;
    mItensNota_OrigNumNota: TIntegerField;
    mItensNota_OrigPERC_MVAST: TFloatField;
    mItensNota_OrigCOD_CSTICMS: TStringField;
    mItensNota_OrigCOD_CSTIPI: TStringField;
    mItensNota_OrigCOD_CSTPIS: TStringField;
    mItensNota_OrigCOD_CSTCOFINS: TStringField;
    mItensNota_OrigPERC_ICMSDIFERIDO: TFloatField;
    mItensNota_OrigUNIDADE: TStringField;
    mItensNota_OrigPERC_REDICMS: TFloatField;
    mItensNota_OrigPERC_REDBASEST: TFloatField;
    mItensNota_OrigVLR_ST: TFloatField;
    sdsFornecedorDIGITO_SEPARADO_TAM: TStringField;
    cdsFornecedorDIGITO_SEPARADO_TAM: TStringField;
    sdsFornecedorUSAR_COD_CLIENTE_PROD: TStringField;
    cdsFornecedorUSAR_COD_CLIENTE_PROD: TStringField;
    sdsProdutoCOD_PRODUTO_CLI_NOME: TStringField;
    cdsProdutoCOD_PRODUTO_CLI_NOME: TStringField;
    mItensNotaCod_Produto_Nome: TStringField;
    cdsFilialSIMPLES: TStringField;
    cdsCFOPUSA_NAO_CONTR_FISICA: TStringField;
    cdsCFOPCONTROLA_FINALIDADE: TStringField;
    mItensNotaID_Variacao: TIntegerField;
    sdsFornecedorID_PRODUTO_DESP: TIntegerField;
    cdsFornecedorID_PRODUTO_DESP: TIntegerField;
    sdsNotaFiscalDESPESA_APAGAR: TStringField;
    cdsNotaFiscalDESPESA_APAGAR: TStringField;
    cdsCFOPCREDITA_ST: TStringField;
    sdsNotaFiscalVLR_OUTROS_ITENS: TFloatField;
    cdsNotaFiscalVLR_OUTROS_ITENS: TFloatField;
    sdsNotaFiscal_ItensVLR_OUTROS_ITENS: TFloatField;
    cdsNotaFiscal_ItensVLR_OUTROS_ITENS: TFloatField;
    mItensNotaVlr_Outros_Itens: TFloatField;
    sdsNotaFiscalVLR_DESCONTO_ITENS: TFloatField;
    cdsNotaFiscalVLR_DESCONTO_ITENS: TFloatField;
    sdsProdutoCONFERIDO: TStringField;
    cdsProdutoCONFERIDO: TStringField;
    sdsNotaFiscalID_TIPO_COBRANCA: TIntegerField;
    cdsNotaFiscalID_TIPO_COBRANCA: TIntegerField;
    cdsFilialUF: TStringField;
    mItensNotaGrafico: TGraphicField;
    cdsCFOPALT_VENDA: TStringField;
    mItensNotaAtualizarPrecoVenda: TBooleanField;
    mItensNotaComprimento: TFloatField;
    mItensNotaLargura: TFloatField;
    mItensNotaEspessura: TFloatField;
    mItensNotaPreco_Varejo: TCurrencyField;
    sdsProdutoPRECO_VAREJO: TFloatField;
    cdsProdutoPRECO_VAREJO: TFloatField;
    procedure DataModuleCreate(Sender: TObject);
    procedure dspNotaFiscalUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspProduto_FornUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspFornecedorUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspPaisUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspCidadeUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspProdutoUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspNCMUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspDuplicataUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure dspEstoque_MovUpdateError(Sender: TObject;
      DataSet: TCustomClientDataSet; E: EUpdateError;
      UpdateKind: TUpdateKind; var Response: TResolverResponse);
    procedure cdsNotaFiscal_ItensNewRecord(DataSet: TDataSet);
    procedure cdsNotaFiscal_ItensBeforePost(DataSet: TDataSet);
    procedure cdsNCMNewRecord(DataSet: TDataSet);
    procedure mNotaNewRecord(DataSet: TDataSet);
    procedure mItensNotaNewRecord(DataSet: TDataSet);
    procedure cdsFornecedorNewRecord(DataSet: TDataSet);
    procedure mItensNotaBeforePost(DataSet: TDataSet);
    procedure mParcNewRecord(DataSet: TDataSet);
  private
    { Private declarations }
    procedure DoLogAdditionalValues(ATableName: string; var AValues: TArrayLogData; var UserName: string);
  public
    { Public declarations }
    vMsgErro: String;
    ctCommand_CFOP: String;
    ctCommand_Produto: String;
    ctNotaEntrada: String;
    ctProduto_Forn: String;
    vID_Pedido, vItem_Pedido: Integer;
    vNum_Pedido: String;
    vID_NTE, vItem_NTE, vNum_Nota_NTE: Integer;
    vUnidade: String;
    vProduto_Inativo: String;
    vNome_Produto_Int : String;
    vGerar_CLiq: String;
    Ultimo_Item: Integer;
    vNumOC_Pesquisa : Integer;

    vFilial_Local: Integer;
    vDtEmissao: TDateTime;

    vCodFornecedor_XML : Integer;
    vAssociar_Prod_XML: Boolean;
    vUsaNome_XML: Boolean;
    vID_CFOP_NFCe_XML : Integer;
    vCODCFOP_NFCe_XML : String;
    vCST_TipoICMS_XML: String;
    vEntrada_Saida_XML : String;
    vGerar_Estoque_XML : String;
    vID_Local_Estoque_Xml: Integer;
    vCopiar_InfAdicionais_Prod : Boolean;

    procedure prc_Abrir_Produto(ID: Integer; Referencia: String);
    function fnc_Abrir_Nota(Filial,NumNota,ID_Cliente: Integer; Serie: String): Boolean;

    function fnc_Abrir_Fornecedor(CNPJ: String): Boolean;
    function fnc_Abrir_Cidade(CodMunicipio: String): Boolean;
    function fnc_Abrir_Pais(CodPais: String): Boolean;
    function fnc_Abrir_NCM(NCM: String): Integer;

    procedure AbrirNFe(AXMLNFe: string);

  end;

var
  DMRecebeXML: TDMRecebeXML;

implementation

uses DmdDatabase, Forms, uUtilPadrao, LogProvider, Math;

{$R *.dfm}

{ TDMCadCFOP}

procedure TDMRecebeXML.DataModuleCreate(Sender: TObject);
var
  i, x: Integer;
  vIndices: string;
  aIndices: array of string;
begin
  XMLTransformProvider1.TransformRead.TransformationFile := ExtractFilePath(Application.ExeName) + 'nfe_v2.00_ToDp.xtr';
  ctCommand_CFOP    := sdsCFOP.CommandText;
  ctCommand_Produto := sdsProduto.CommandText;
  qParametros.Close;
  qParametros.ParamByName('ID').AsInteger := 1;
  qParametros.Open;
  cdsTab_CSTICMS.Close;
  cdsTab_CSTICMS.Open;
  cdsTab_CSTIPI.Close;
  cdsTab_CSTIPI.Open;
  cdsCFOP.Open;
  cdsCliente.Open;
  cdsFilial.Open;
  cdsLocal_Estoque.Open;
  qParametros_Geral.Close;
  qParametros_Geral.Open;
  qParametros_Prod.Close;
  qParametros_Prod.Open;
  qParametros_RecXML.Close;
  qParametros_RecXML.Open;
  qParametros_OC.Open;
  qParametros_NTE.Open;
  qParametros_Custo.Open;
  qParametros_Lote.Open;
  if not mParc.Active then
    mParc.CreateDataSet;

  //*** Logs Implantado na verso .353
  LogProviderList.OnAdditionalValues := DoLogAdditionalValues;
  for i := 0 to (Self.ComponentCount - 1) do
  begin
    if (Self.Components[i] is TClientDataSet) then
    begin
      SetLength(aIndices, 0);
      vIndices := TClientDataSet(Components[i]).IndexFieldNames;
      while (vIndices <> EmptyStr) do
      begin
        SetLength(aIndices, Length(aIndices) + 1);
        x := Pos(';', vIndices);
        if (x = 0) then
        begin
          aIndices[Length(aIndices) - 1] := vIndices;
          vIndices := EmptyStr;
        end
        else
        begin
          aIndices[Length(aIndices) - 1] := Copy(vIndices, 1, x - 1);
          vIndices := Copy(vIndices, x + 1, MaxInt);
        end;
      end;
      LogProviderList.AddProvider(TClientDataSet(Self.Components[i]), TClientDataSet(Self.Components[i]).Name, aIndices);
    end;
  end;
  //***********************
end;

function TDMRecebeXML.fnc_Abrir_Nota(Filial, NumNota, ID_Cliente: Integer;
  Serie: String): Boolean;
begin
  Result := False;
  cdsNotaFiscal.Close;
  if vImportar_NotaSaida then
    sdsNotaFiscal.CommandText := 'SELECT * FROM NOTAFISCAL '
                               + 'WHERE ID = -0 '
  else
    sdsNotaFiscal.CommandText := 'SELECT * FROM NOTAFISCAL '
                               + ' WHERE FILIAL = ' + IntToStr(Filial)
                               + '   AND NUMNOTA = ' + IntToStr(NumNota)
                               + '   AND ID_CLIENTE = ' + IntToStr(ID_Cliente)
                               + '   AND SERIE = ' + QuotedStr(Serie)
                               + '   AND TIPO_REG = ' + QuotedStr('NTE');
  cdsNotaFiscal.Open;
  cdsNotaFiscal_Itens.Close;
  cdsNotaFiscal_Itens.Open;
  cdsNotaFiscal_NDevolvida.Close;
  cdsNotaFiscal_NDevolvida.Open;
  if not(vImportar_NotaSaida) then
    if not(cdsNotaFiscal.IsEmpty) and (cdsNotaFiscalNUMNOTA.AsInteger = NumNota) then
      Result := True;
end;

function TDMRecebeXML.fnc_Abrir_Fornecedor(CNPJ: String): Boolean;
begin
  Result := False;
  cdsFornecedor.Close;
  sdsFornecedor.CommandText := 'SELECT * FROM PESSOA '
                             + ' WHERE CNPJ_CPF =  ' + QuotedStr(CNPJ)
                             + ' and INATIVO = ' + QuotedStr('N');
  cdsFornecedor.Open;
  if not(cdsFornecedor.IsEmpty) or (cdsFornecedorCNPJ_CPF.AsString = CNPJ) then
    Result := True;
end;

procedure TDMRecebeXML.prc_Abrir_Produto(ID: Integer; Referencia: String);
begin
  cdsProduto.Close;
  sdsProduto.CommandText := ctCommand_Produto;
  if ID <> 0 then
    sdsProduto.CommandText := sdsProduto.CommandText + ' WHERE ID = ' + IntToStr(ID)
  else
    sdsProduto.CommandText := sdsProduto.CommandText + ' WHERE REFERENCIA = ' + QuotedStr(Referencia);
  cdsProduto.Open;
end;

function TDMRecebeXML.fnc_Abrir_Cidade(CodMunicipio: String): Boolean;
begin
  Result := False;
  cdsCidade.Close;
  sdsCidade.CommandText := 'SELECT * FROM CIDADE '
                         + ' WHERE CODMUNICIPIO = ' + QuotedStr(CodMunicipio);
  cdsCidade.Open;
  if not(cdsCidade.IsEmpty) or (cdsCidadeCODMUNICIPIO.AsString = CodMunicipio) then
    Result := True;
end;

function TDMRecebeXML.fnc_Abrir_Pais(CodPais: String): Boolean;
begin
  Result := False;
  cdsPais.Close;
  sdsPais.CommandText := 'SELECT * FROM PAIS '
                       + ' WHERE CODPAIS = ' + QuotedStr(CodPais);
  cdsPais.Open;

  if not(cdsPais.IsEmpty) or (cdsPaisCODPAIS.AsString = CodPais) then
    Result := True;
end;

function TDMRecebeXML.fnc_Abrir_NCM(NCM: String): Integer;
begin
  Result := 0;
  cdsNCM.Close;
  sdsNCM.ParamByName('NCM').AsString := NCM;
  cdsNCM.Open;
  if not(cdsNCM.IsEmpty) then
    Result := cdsNCMID.AsInteger;
end;

procedure TDMRecebeXML.AbrirNFe(AXMLNFe: string);
begin
  if cdsCabecalho.Active then
    cdsCabecalho.Close;

  XMLTransformProvider1.XMLDataFile := AXMLNFe;
  cdsCabecalho.Open;
end;

procedure TDMRecebeXML.dspNotaFiscalUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspProduto_FornUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspFornecedorUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspPaisUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspCidadeUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspProdutoUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspNCMUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspDuplicataUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.dspEstoque_MovUpdateError(Sender: TObject;
  DataSet: TCustomClientDataSet; E: EUpdateError; UpdateKind: TUpdateKind;
  var Response: TResolverResponse);
begin
  dmDatabase.prc_UpdateError(DataSet.Name,UpdateKind,E);
end;

procedure TDMRecebeXML.cdsNotaFiscal_ItensNewRecord(DataSet: TDataSet);
begin
  cdsNotaFiscal_ItensVLR_ADUANEIRA.AsFloat := 0;
  cdsNotaFiscal_ItensVLR_COFINS.AsFloat    := 0;
  cdsNotaFiscal_ItensVLR_DESCONTO.AsFloat  := 0;
  cdsNotaFiscal_ItensVLR_DESCONTORATEIO.AsFloat := 0;
  cdsNotaFiscal_ItensVLR_FRETE.AsFloat          := 0;
  cdsNotaFiscal_ItensVLR_ICMS.AsFloat           := 0;
  cdsNotaFiscal_ItensVLR_ICMSFRETE.AsFloat      := 0;
  cdsNotaFiscal_ItensVLR_ICMSOUTRASDESPESAS.AsFloat := 0;
  cdsNotaFiscal_ItensVLR_ICMSSIMPLES.AsFloat    := 0;
  cdsNotaFiscal_ItensVLR_ICMSSUBST.AsFloat      := 0;
  cdsNotaFiscal_ItensVLR_IMPORTACAO.AsFloat     := 0;
  cdsNotaFiscal_ItensVLR_IPI.AsFloat            := 0;
  cdsNotaFiscal_ItensVLR_OUTRASDESPESAS.AsFloat := 0;
  cdsNotaFiscal_ItensVLR_PIS.AsFloat            := 0;
  cdsNotaFiscal_ItensVLR_SEGURO.AsFloat         := 0;
  cdsNotaFiscal_ItensVLR_TOTAL.AsFloat          := 0;
  cdsNotaFiscal_ItensVLR_UNITARIO.AsFloat       := 0;
  cdsNotaFiscal_ItensVLR_DUPLICATA.AsFloat      := 0;
  cdsNotaFiscal_ItensITEM_NTE.AsInteger         := 0;
  cdsNotaFiscal_ItensQTD_NOTAATUAL.AsInteger    := 0;
  cdsNotaFiscal_ItensID_NTE.AsInteger           := 0;
  cdsNotaFiscal_ItensCOD_BARRA.AsString         := '';
  cdsNotaFiscal_ItensPERC_TRIBICMS.AsFloat      := 0;
  cdsNotaFiscal_ItensID_VARIACAO.AsInteger      := 0;
  cdsNotaFiscal_ItensID_PEDIDO.AsInteger        := 0;
  cdsNotaFiscal_ItensITEM_PEDIDO.AsInteger      := 0;
  cdsNotaFiscal_ItensVLR_UNITARIO.AsFloat       := 0;
  cdsNotaFiscal_ItensPERC_BASE_ICMSSUBT_RED.AsFloat := 0;
  cdsNotaFiscal_ItensBASE_ICMSSUBST.AsFloat := 0;
  cdsNotaFiscal_ItensBASE_ICMSSUBST_RET.AsFloat := 0;
  cdsNotaFiscal_ItensVLR_BASE_EFET.AsFloat      := 0;
  cdsNotaFiscal_ItensVLR_ICMS_EFET.AsFloat      := 0;
end;

procedure TDMRecebeXML.cdsNotaFiscal_ItensBeforePost(DataSet: TDataSet);
begin
  cdsNotaFiscal_ItensTIPO_REG.AsString := cdsNotaFiscalTIPO_REG.AsString;
end;

procedure TDMRecebeXML.DoLogAdditionalValues(ATableName: string;
  var AValues: TArrayLogData; var UserName: string);
begin
  UserName := vUsuario;
end;

procedure TDMRecebeXML.cdsNCMNewRecord(DataSet: TDataSet);
begin
  cdsNCMGERAR_ST.AsString := 'N';
end;

procedure TDMRecebeXML.mNotaNewRecord(DataSet: TDataSet);
begin
  mNotaFilial.AsInteger    := 0;
  mNotaID_Cidade.AsInteger := 0;
  mNotaID_Pais.AsInteger   := 0;
end;

procedure TDMRecebeXML.mItensNotaNewRecord(DataSet: TDataSet);
begin
  mItensNotaUsa_Cor.AsString          := 'N';
  mItensNotaUsa_Preco_Cor.AsString    := 'N';
  mItensNotaObs_Complementar.AsString := '';
  if qParametrosATUALIZAR_PRECO.AsString = 'S' then
    mItensNotaAtualizarPreco.AsBoolean := True
  else
    mItensNotaAtualizarPreco.AsBoolean := False;
  if qParametros_NTEATUALIZAR_CUSTO.AsString = 'S' then
    mItensNotaAtualizarCustoTotal.AsBoolean := True
  else
    mItensNotaAtualizarCustoTotal.AsBoolean := False;
  mItensNotaGerar_CLiquido.AsBoolean := False;
  mItensNotaPerc_Margem.AsFloat := StrToFloat(FormatFloat('0.00',qParametros_ProdPERC_MARGEM_PRECO.AsFloat));
  mItensNotaSUB_ICMS_CUSTO.AsString      := 'N';
  mItensNotaSUB_PISCOFINS_CUSTO.AsString := 'N';
  if qParametros_NTESUB_ICMS_CUSTO.AsString = 'S' then
    mItensNotaSUB_ICMS_CUSTO.AsString := 'S';
  if qParametros_NTESUB_PISCOFINS_CUSTO.AsString = 'S' then
    mItensNotaSUB_PISCOFINS_CUSTO.AsString := 'S';
  mItensNotaSOMAR_FRETE_NO_CUSTO.AsString := qParametros_NTESOMAR_FRETE_NO_CUSTO.AsString;
  mItensNotaSOMAR_IPI_NO_CUSTO.AsString   := qParametros_NTESOMAR_IPI_NO_CUSTO.AsString;
  mItensNotaSOMAR_ST_NO_CUSTO.AsString    := qParametros_NTESOMAR_ST_NO_CUSTO.AsString;
  if vCopiar_InfAdicionais_Prod then
    mItensNotaGravar_Adic_Prod.AsString := 'S'
  else
    mItensNotaGravar_Adic_Prod.AsString := 'N';
  mItensNotaGerar_Estoque.AsString        := 'S';
  mItensNotaPosse_Material.AsString       := 'E';
  mItensNotaTamanho.AsString              := '';
  mItensNotaPossuiRateio.AsBoolean        := False;
  mItensNotaPreco_Custo_Manual.AsFloat    := 0;
  mItensNotaVlr_Outros_Itens.AsFloat      := 0;
end;

procedure TDMRecebeXML.cdsFornecedorNewRecord(DataSet: TDataSet);
begin
  cdsFornecedorORGAO_PUBLICO.AsString            := 'N';
  cdsFornecedorCLIENTE_ESTOQUE.AsString          := 'N';
  cdsFornecedorUSA_TAMANHO_AGRUPADO_NFE.AsString := 'N';
  cdsFornecedorTP_ALUNO.AsString                 := 'N';
  cdsFornecedorTIPO_CONSUMIDOR.AsInteger         := 0;
  cdsFornecedorTIPO_CONTRIBUINTE.AsInteger       := 1;
  cdsFornecedorTP_PREPOSTO.AsString              := 'N';
  cdsFornecedorTP_EXPORTACAO.AsString            := 'N';
  cdsFornecedorASSOCIAR_PROD.AsString            := 'S';
end;

procedure TDMRecebeXML.mItensNotaBeforePost(DataSet: TDataSet);
begin
  if (trim(mItensNotaOrigem.AsString) = '') or (mItensNotaOrigem.IsNull) then
    mItensNotaOrigem.AsString := '0';
  if mItensNotaGravar_Adic_Prod.AsString = 's' then
    mItensNotaGravar_Adic_Prod.AsString := 'S';
  if (mItensNotaCopiar_CFOP_Prod.AsString = 's') or (mItensNotaCopiar_CFOP_Prod.AsString = 'S') then
    mItensNotaCopiar_CFOP_Prod.AsString := 'S'
  else
  if (mItensNotaCopiar_CFOP_Prod.AsString = 'n') or (mItensNotaCopiar_CFOP_Prod.AsString = 'N') then
    mItensNotaCopiar_CFOP_Prod.AsString := 'N'
  else
    mItensNotaCopiar_CFOP_Prod.AsString := '';
end;

procedure TDMRecebeXML.mParcNewRecord(DataSet: TDataSet);
begin
  mParcAdiantamento.AsString := '';
end;

end.
